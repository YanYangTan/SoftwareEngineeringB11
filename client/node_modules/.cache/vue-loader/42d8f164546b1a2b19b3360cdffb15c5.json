{"remainingRequest":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Calender.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Calender.vue","mtime":1640180188967},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":1640180100267},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1640180123445},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":1640099129881},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640099097496},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640180123441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKYm9keSwgaHRtbCwgI2FwcCwgI2RheXNwYW4gewogIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWYgIWltcG9ydGFudDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7Cn0KLnYtYnRuLS1mbGF0LAoudi10ZXh0LWZpZWxkLS1zb2xvIC52LWlucHV0X19zbG90IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1ICFpbXBvcnRhbnQ7CiAgbWFyZ2luLWJvdHRvbTogOHB4ICFpbXBvcnRhbnQ7Cn0KLmRzLWRheS1waWNrZXJ7CiAgdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlLWluLW91dDsKICBib3gtc2hhZG93OiAwIDFweCAzcHggZ3JleTsKfQouZHMtZGF5LXBpY2tlcjpob3ZlcnsKICB0cmFuc2Zvcm06IHNjYWxlKDEuMDEpOwogIGJveC1zaGFkb3c6IDAgNHB4IDhweCBncmV5OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7Cn0KLmRzLXdlZWstaGVhZGVyewogIGJhY2tncm91bmQtY29sb3I6ICNjNWNjZjI7Cn0KLm1iLTJ7CiAgYm94LXNoYWRvdzogMCAxcHggIzNiM2Q0ODsKfQouc3VidGl0bGV7CiAgY29sb3I6IHdoaXRlOwp9Ci5kcy1kYXl7CiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjNmYzsKICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOwp9Ci5kcy13ZWVrLXZpZXctc2Nyb2xsYWJsZXsKICAtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmU7CiAgc2Nyb2xsYmFyLXdpZHRoOiBub25lOwp9Cg=="},{"version":3,"sources":["Calender.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calender.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app id=\"dayspan\" v-cloak>\n    <ds-calendar-app ref=\"app\"\n      :calendar=\"calendar\"\n      :read-only=\"readOnly\"\n      v-loading.fullscreen.lock=\"fullscreenLoading\"\n      @change=\"saveState\">\n\n      <template slot=\"title\">\n        Calendar\n      </template>\n\n      <template slot=\"eventPopover\" slot-scope=\"slotData\">\n         <ds-calendar-event-popover\n          v-bind=\"slotData\"\n          :read-only=\"readOnly\"\n          @finish=\"saveState\"\n        ></ds-calendar-event-popover>\n      </template>\n\n      <template slot=\"eventCreatePopover\" slot-scope=\"{placeholder, calendar}\">\n        <ds-calendar-event-create-popover\n          :calendar-event=\"placeholder\"\n          :calendar=\"calendar\"\n          :close=\"$refs.app.$refs.calendar.clearPlaceholder\"\n          @create-edit=\"$refs.app.editPlaceholder\"\n          @create-popover-closed=\"saveState\"\n        ></ds-calendar-event-create-popover>\n      </template>\n\n      <template slot=\"eventTimeTitle\" slot-scope=\"{calendarEvent, details}\">\n        <div>\n          <v-icon class=\"ds-ev-icon\"\n            v-if=\"details.icon\"\n            size=\"14\"\n            :style=\"{color: details.forecolor}\">\n            {{ details.icon }}\n          </v-icon>\n          <strong class=\"ds-ev-title\">{{ details.title }}</strong>\n        </div>\n        <div class=\"ds-ev-description\">{{ getCalendarTime( calendarEvent ) }}</div>\n      </template>\n\n    </ds-calendar-app>\n  </v-app>\n</template>\n\n<style>\nbody, html, #app, #dayspan {\n  font-family: Roboto, sans-serif !important;\n  width: 100%;\n  height: 100%;\n}\n.v-btn--flat,\n.v-text-field--solo .v-input__slot {\n  background-color: #f5f5f5 !important;\n  margin-bottom: 8px !important;\n}\n.ds-day-picker{\n  transition: all .2s ease-in-out;\n  box-shadow: 0 1px 3px grey;\n}\n.ds-day-picker:hover{\n  transform: scale(1.01);\n  box-shadow: 0 4px 8px grey;\n  background-color: #ffffff;\n}\n.ds-week-header{\n  background-color: #c5ccf2;\n}\n.mb-2{\n  box-shadow: 0 1px #3b3d48;\n}\n.subtitle{\n  color: white;\n}\n.ds-day{\n  background-color: #f1f3fc;\n  border: 1px solid #e0e0e0;\n}\n.ds-week-view-scrollable{\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n</style>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Calendar } from 'dayspan';\nimport Vue from 'vue';\n// eslint-disable-next-line\nimport axios from 'axios';\n\nexport default {\n  name: 'Calender',\n  data: () => ({\n    // storeKey: 'dayspanState',\n    fullscreenLoading: true,\n    calendar: Calendar.months(),\n    readOnly: false,\n    defaultEvents: [],\n  }),\n  methods:\n  {\n    getCalendarTime(calendarEvent) {\n      const sa = calendarEvent.start.format('a');\n      const ea = calendarEvent.end.format('a');\n      let sh = calendarEvent.start.format('h');\n      let eh = calendarEvent.end.format('h');\n      if (calendarEvent.start.minute !== 0) {\n        sh += calendarEvent.start.format(':mm');\n      }\n      if (calendarEvent.end.minute !== 0) {\n        eh += calendarEvent.end.format(':mm');\n      }\n      return (sa === ea) ? (`${sh} - ${eh}${ea}`) : (`${sh + sa} - ${eh}${ea}`);\n    },\n    saveState() {\n      const state = this.calendar.toInput(true);\n      const json = JSON.stringify(state.events);\n      // Send json to backend\n      axios.post('/api/save-calendar', {\n        isGroup: this.$route.params.isGroup === '1',\n        id: this.$route.params.id,\n        content: json,\n      })\n        .then((res) => {\n          if (res.data.status) {\n            console.log('Saved');\n          } else {\n            console.log('Save Failed');\n          }\n        });\n    },\n    loadState() {\n      this.fullscreenLoading = true;\n      const state = {};\n      if (!state.events || !state.events.length) {\n        state.events = this.defaultEvents;\n      }\n      state.events.forEach((ev) => {\n        const defaults = this.$dayspan.getDefaultEventDetails();\n        // eslint-disable-next-line no-param-reassign\n        ev.data = Vue.util.extend(defaults, ev.data);\n      });\n      // Load from backend\n      let events = [];\n      axios.post('/api/query-calendar', {\n        isGroup: this.$route.params.isGroup === '1',\n        id: this.$route.params.id,\n      })\n        .then((res) => {\n          if (res.data.status) {\n            console.log('Query success!');\n            events = res.data.calendar;\n            state.events = events;\n            this.$refs.app.setState(state);\n            console.log(state.events);\n            this.fullscreenLoading = false;\n          } else {\n            console.log(res.data.message);\n          }\n        });\n    },\n  },\n  mounted() {\n    window.app = this.$refs.app;\n    this.loadState();\n  },\n};\n</script>\n"]}]}