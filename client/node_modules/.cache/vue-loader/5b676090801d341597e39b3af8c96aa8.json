{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ViewPhoto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ViewPhoto.vue","mtime":1640167594907},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640165327016},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1640165324120},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640165327016},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640165341316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZpZXdQaG90bycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW1lbnQ6IHt9LAogICAgICBkYXRhOiB7fSwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgaW5mbzoge30sCiAgfSwKICBtZXRob2RzOgogICAgICB7CiAgICAgICAgQmFja1RvSW1hZ2VXYWxsKCkgewogICAgICAgICAgdGhpcy4kZW1pdCgnQmFja3RvSW1hZ2VXYWxsJyk7CiAgICAgICAgfSwKICAgICAgICBsaWtlKHBpYykgewogICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1saWtlJywgeyBwb3N0X2lkOiBwaWMucG9zdF9pZCwgdXNlcl9pZDogdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZCB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5saWtlZCkgewogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9jYW5jZWwtbGlrZScsIHsgcG9zdF9pZDogcGljLnBvc3RfaWQsIHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQgfSkudGhlbigocmVzMikgPT4gewogICAgICAgICAgICAgICAgICBpZiAocmVzMi5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+S9oOW3sueCuei1nuatpOW4lu+8jOWPlua2iOeCuei1nicsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3N0KCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyMikgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycjIpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9saWtlLXBvc3QnLCB7IHBvc3RfaWQ6IHBpYy5wb3N0X2lkLCB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkIH0pLnRoZW4oKHJlczIpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJlczIuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGlrZWQnKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip/ngrnotZ4nLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zdCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyMikgPT4gewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBnZXRQb3N0KCkgewogICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1hbGwtcG9zdCcsIHsgZ3JvdXBfaWQ6IHRoaXMuJHByb3BzLmluZm8uaWQgfSkKICAgICAgICB9LAogICAgICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnc3VjY2VzcyEnKTsKICAgIC8vIHRoaXMuZGF0YSA9IHRoaXMuaW5mbzsKICAgIGNvbnNvbGUubG9nKHRoaXMuaW5mbyk7CiAgfSwKfTsK"},{"version":3,"sources":["ViewPhoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewPhoto.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-container>\n  <div>\n    <el-button\n      style=\"width: 50px;margin-right: 30px;\"\n      icon=\"el-icon-back\"\n      @click=\"BackToImageWall\" circle\n    type=\"primary\"></el-button>\n    <h1>{{this.$props.info.caption}}</h1>\n    <el-container>\n <el-aside width=\"1000px\">\n   <el-card :body-style=\"{ padding: '10px' }\" shadow=\"hover\">\n\n     <el-image\n      style=\"width: 1000px; height: auto\"\n      :src=\"info.src\">\n    </el-image>\n\n   </el-card>\n </el-aside>\n      <el-container>\n      <el-header>{{info.date_created}}</el-header>\n\n      <el-main>\n        <h3>\n          {{info.username}}\n        </h3>\n      </el-main>\n<el-button type=\"success\"\n                size=\"medium\"\n                icon=\"el-icon-arrow-up\"\n                style=\"padding: 1px 1px;\"\n                @click=\"like(this.info)\"\n              >{{info.like}}</el-button>\n    </el-container>\n</el-container>\n  </div>\n  </el-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ViewPhoto',\n  data() {\n    return {\n      comment: {},\n      data: {},\n    };\n  },\n  props: {\n    info: {},\n  },\n  methods:\n      {\n        BackToImageWall() {\n          this.$emit('BacktoImageWall');\n        },\n        like(pic) {\n          axios.post('/api/query-like', { post_id: pic.post_id, user_id: this.$route.params.userid }).then((res) => {\n            if (res.data.status) {\n              if (res.data.liked) {\n                axios.post('/api/cancel-like', { post_id: pic.post_id, user_id: this.$route.params.userid }).then((res2) => {\n                  if (res2.data.status) {\n                    this.$message({\n                      type: 'warning',\n                      message: '你已点赞此帖，取消点赞',\n                    });\n                    this.getPost();\n                  }\n                })\n                  .catch((err2) => {\n                    console.log(err2);\n                  });\n              } else {\n                axios.post('/api/like-post', { post_id: pic.post_id, user_id: this.$route.params.userid }).then((res2) => {\n                  if (res2.data.status) {\n                    console.log('Liked');\n                    this.$message({\n                      type: 'success',\n                      message: '成功点赞',\n                    });\n                    this.getPost();\n                  }\n                }).catch((err2) => {\n                  console.log(err2);\n                });\n              }\n            }\n          }).catch((err) => {\n            console.log(err);\n          });\n        },\n        getPost() {\n          axios.post('/api/query-all-post', { group_id: this.$props.info.id })\n        },\n      },\n  created() {\n    console.log('success!');\n    // this.data = this.info;\n    console.log(this.info);\n  },\n};\n</script>\n\n<style scoped>\n  .el-image {\n    width: 100%;\n    object-fit: scale-down;\n  }\n</style>\n"]}]}