{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Upload.vue","mtime":1639669247977},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VwbG9hZCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVzOiAnJywKICAgICAgdXNlcl9pZDogJycsCiAgICAgIGdyb3VwX2lkOiAnJywKICAgICAgY2FwdGlvbjogJycsCiAgICAgIGltZ19zcmM6ICcnLAogICAgICBwaWN1cmw6ICcnLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBpYygpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci10ZW1wbGF0ZQogICAgICB0aGlzLnBpY3VybCA9ICcvYXBpL3Nob3cvJyArIHRoaXMuZ3JvdXBfaWQgKyAnLycgKyB0aGlzLmltZ19zcmM7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGljdXJsKTsKICAgIH0sCiAgICBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikgewogICAgICBsZXQgYmluYXJ5ID0gJyc7CiAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKICAgICAgY29uc3QgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkgewogICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTsKICAgICAgfQogICAgICByZXR1cm4gd2luZG93LmJ0b2EoYmluYXJ5KTsKICAgIH0sCiAgICBoYW5kbGVGaWxlVXBsb2FkKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmcKICAgICAgdGhpcy5maWxlcyA9IHRoaXMuJHJlZnMuZmlsZXMuZmlsZXM7CiAgICB9LAogICAgU3VibWl0RmlsZSgpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdAogICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhcnMtb24tdG9wCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVzW2ldOwogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItdGVtcGxhdGUKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzW10nLCBmaWxlKTsKICAgICAgfQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJfaWQnLCB0aGlzLnVzZXJfaWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2dyb3VwX2lkJywgdGhpcy5ncm91cF9pZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2FwdGlvbicsIHRoaXMuY2FwdGlvbik7CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvdXBsb2FkLXBvc3QnLAogICAgICAgIGZvcm1EYXRhLAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywKICAgICAgICAgIH0sCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWFycm93LWNhbGxiYWNrCiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3MnKTsKICAgICAgICB9CiAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Upload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div>\n      <h2>Multiple File</h2>\n      <hr/>\n      <label>Files\n        <input type=\"file\" id=\"files\" ref=\"files\" multiple v-on:change=\"handleFileUpload( $event )\"/>\n      </label>\n      <label>User_ID\n        <input type=\"number\" v-model=\"user_id\"/>\n      </label>\n      <label>Group_ID\n        <input type=\"number\" v-model=\"group_id\"/>\n      </label>\n      <label>Caption\n        <input type=\"text\" v-model=\"caption\"/>\n      </label>\n      <br>\n      <button v-on:click=\"SubmitFile()\">Submit</button>\n    </div>\n    <button v-on:click=\"getPic()\">Get Picture</button>\n    <input type=\"text\" v-model=\"img_src\"/>\n    <img :src=\"picurl\"/>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Upload',\n  data() {\n    return {\n      files: '',\n      user_id: '',\n      group_id: '',\n      caption: '',\n      img_src: '',\n      picurl: '',\n    };\n  },\n  methods: {\n    getPic() {\n      // eslint-disable-next-line prefer-template\n      this.picurl = '/api/show/' + this.group_id + '/' + this.img_src;\n      console.log(this.picurl);\n    },\n    arrayBufferToBase64(buffer) {\n      let binary = '';\n      const bytes = new Uint8Array(buffer);\n      const len = bytes.byteLength;\n      for (let i = 0; i < len; i += 1) {\n        binary += String.fromCharCode(bytes[i]);\n      }\n      return window.btoa(binary);\n    },\n    handleFileUpload() {\n      // eslint-disable-next-line prefer-destructuring\n      this.files = this.$refs.files.files;\n    },\n    SubmitFile() {\n      // eslint-disable-next-line prefer-const\n      let formData = new FormData();\n      // eslint-disable-next-line vars-on-top\n      for (let i = 0; i < this.files.length; i += 1) {\n        const file = this.files[i];\n        // eslint-disable-next-line prefer-template\n        formData.append('files[]', file);\n      }\n      formData.append('user_id', this.user_id);\n      formData.append('group_id', this.group_id);\n      formData.append('caption', this.caption);\n      axios.post('/api/upload-post',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n          // eslint-disable-next-line prefer-arrow-callback\n        }).then((res) => {\n        if (res.data.status) {\n          console.log('Success');\n        }\n      })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n};\n</script>\n"]}]}