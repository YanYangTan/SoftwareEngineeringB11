{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ViewPhoto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ViewPhoto.vue","mtime":1640200144712},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640200142227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdWaWV3UGhvdG8nLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjb21tZW50OiAnJywNCiAgICAgIGltYWdlbGlzdDogW10sDQogICAgICBzcmNMaXN0OiBbXSwNCiAgICAgIHBpY0RhdGE6IHt9LA0KICAgICAgY29tbWVudExpc3Q6IHt9LA0KICAgICAgbGlrZXM6ICcnLA0KICAgICAgRGVsZXRlVmlzaWJsZTogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBpbmZvOiB7fSwNCiAgfSwNCiAgbWV0aG9kczoNCiAgICAgIHsNCiAgICAgICAgQmFja1RvSW1hZ2VXYWxsKCkgew0KICAgICAgICAgIHRoaXMuJGVtaXQoJ0JhY2t0b0ltYWdlV2FsbCcpOw0KICAgICAgICB9LA0KICAgICAgICBsaWtlKCkgew0KICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvcXVlcnktbGlrZScsIHsgcG9zdF9pZDogdGhpcy4kcHJvcHMuaW5mby5wb3N0X2lkLCB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgew0KICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubGlrZWQpIHsNCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2NhbmNlbC1saWtlJywgeyBwb3N0X2lkOiB0aGlzLiRwcm9wcy5pbmZvLnBvc3RfaWQsIHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQgfSkudGhlbigocmVzMikgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHJlczIuZGF0YS5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkvaDlt7LngrnotZ7mraTluJbvvIzlj5bmtojngrnotZ4nLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3N0KCk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyMikgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIyKTsNCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvbGlrZS1wb3N0JywgeyBwb3N0X2lkOiB0aGlzLiRwcm9wcy5pbmZvLnBvc3RfaWQsIHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQgfSkudGhlbigocmVzMikgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHJlczIuZGF0YS5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xpa2VkJyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5oiQ5Yqf54K56LWeJywNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zdCgpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIyKSA9PiB7DQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIyKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGdldFBvc3QoKSB7DQogICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1wb3N0JywgeyBwb3N0X2lkOiB0aGlzLmluZm8ucG9zdF9pZCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgdGhpcy5saWtlcyA9IHJlcy5kYXRhLmNvbnRlbnQubGlrZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0UG9zdCcpOw0KICAgICAgICAgIHRoaXMubGlrZXMgPSB0aGlzLmluZm8ubGlrZTsNCiAgICAgICAgICAvLyBheGlvcy5wb3N0KCcvYXBpL3F1ZXJ5LWFsbC1wb3N0JywgeyBncm91cF9pZDogdGhpcy4kcHJvcHMuaW5mby5pZCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAvLyAgIGxldCBwb3N0cyA9IFtdOw0KICAgICAgICAgIC8vICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgew0KICAgICAgICAgIC8vICAgICBwb3N0cyA9IHJlcy5kYXRhLnBvc3RfbGlzdDsNCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocG9zdHMpOw0KICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3RzLmxlbmd0aDsgaSArPSAxKSB7DQogICAgICAgICAgLy8gICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lDQogICAgICAgICAgLy8gICAgICAgY29uc3Qgc3JjID0gJy9hcGkvc2hvdy8nICsgdGhpcy4kcHJvcHMuaW5mby5pZCArICcvJyArIHBvc3RzW2ldLm1lZGlhOw0KICAgICAgICAgIC8vICAgICAgIGNvbnN0IHRtcCA9IHt9Ow0KICAgICAgICAgIC8vICAgICAgIHRtcC5zcmMgPSBzcmM7DQogICAgICAgICAgLy8gICAgICAgdG1wLnBvc3RfaWQgPSBwb3N0c1tpXS5pZDsNCiAgICAgICAgICAvLyAgICAgICB0bXAuY2FwdGlvbiA9IHBvc3RzW2ldLmNhcHRpb247DQogICAgICAgICAgLy8gICAgICAgdG1wLmRhdGVfY3JlYXRlZCA9IHBvc3RzW2ldLmRhdGVfY3JlYXRlZDsNCiAgICAgICAgICAvLyAgICAgICB0bXAubGlrZSA9IHBvc3RzW2ldLmxpa2U7DQogICAgICAgICAgLy8gICAgICAgdG1wLnVzZXJfaWQgPSBwb3N0c1tpXS51c2VyX2lkOw0KICAgICAgICAgIC8vICAgICAgIHRtcC51c2VybmFtZSA9IHBvc3RzW2ldLnVzZXJuYW1lOw0KICAgICAgICAgIC8vICAgICAgIHRoaXMuaW1hZ2VsaXN0LnB1c2godG1wKTsNCiAgICAgICAgICAvLyAgICAgICB0aGlzLnNyY0xpc3QucHVzaChzcmMpOw0KICAgICAgICAgIC8vICAgICB9DQogICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuaW1hZ2VsaXN0KTsNCiAgICAgICAgICAvLyAgICAgdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIC8vICAgfQ0KICAgICAgICAgIC8vIH0pLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgICAgLy8gfSk7DQogICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1jb21tZW50JywgeyBwb3N0X2lkOiB0aGlzLmluZm8ucG9zdF9pZCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGxldCBjb21tZW50cyA9IFtdOw0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgew0KICAgICAgICAgICAgICBjb21tZW50cyA9IHJlcy5kYXRhLmNvbW1lbnRzX2xpc3Q7DQogICAgICAgICAgICAgIHRoaXMuY29tbWVudExpc3QgPSBjb21tZW50czsNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbW1lbnRzJyk7DQogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbW1lbnRzKTsNCiAgICAgICAgICAgICAgdGhpcy5jb21tZW50ID0gJyc7DQogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHByb3BzLmluZm8ubGlrZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGFkZENvbW1lbnQoKSB7DQogICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9hZGQtY29tbWVudCcsIHsgcG9zdF9pZDogdGhpcy5pbmZvLnBvc3RfaWQsIHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQsIGNvbnRlbnQ6IHRoaXMuY29tbWVudCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbW1lbnQgcG9zdGVkJyk7DQogICAgICAgICAgICAgIHRoaXMuZ2V0UG9zdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVDb21tZW50KGluZGV4LCByb3cpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyb3cuaWQpOw0KICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvZGVsZXRlLWNvbW1lbnQnLCB7IGNvbW1lbnRfaWQ6IHJvdy5pZCwgdXNlcl9pZDogTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQpIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGVsZXRlIHN1Y2Nlc3MnKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRQb3N0KCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgbWF0Y2hTdGF0ZURlbGV0ZWQocm93KSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuRGVsZXRlVmlzaWJsZSAmJiAoTnVtYmVyKHJvdy51c2VyX2lkKSA9PT0gTnVtYmVyKHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQpKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlQ2hlY2soKSB7DQogICAgICAgICAgaWYgKHRoaXMuRGVsZXRlVmlzaWJsZSA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgdGhpcy5EZWxldGVWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuRGVsZXRlVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBjb25zb2xlLmxvZygnc3VjY2VzcyEnKTsNCiAgICAvLyB0aGlzLmRhdGEgPSB0aGlzLmluZm87DQogICAgdGhpcy5nZXRQb3N0KCk7DQogICAgdGhpcy5kZWxldGVDaGVjaygpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["ViewPhoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewPhoto.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container style=\"margin-top: -7px\">\r\n  <div>\r\n    <el-container style=\"margin-bottom: 4px\">\r\n    <el-button\r\n      style=\"margin-bottom: 10px\" size=\"medium\"\r\n      icon=\"el-icon-back\"\r\n      @click=\"BackToImageWall\"\r\n    type=\"primary\">回到照片墙</el-button>\r\n    </el-container>\r\n    <el-container>\r\n <el-aside width=\"1090px\">\r\n   <el-card :body-style=\"{ padding: '10px' }\" shadow=\"hover\">\r\n     <el-image\r\n      :src=\"info.src\"\r\n      :preview-src-list=\"[info.src]\">\r\n    </el-image>\r\n\r\n   </el-card>\r\n </el-aside>\r\n      <el-container>\r\n\r\n      <el-main>\r\n        <div>\r\n          <el-card >\r\n            <el-container>\r\n         <el-avatar src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"\r\n                 style=\"\"  :size=\"50\"></el-avatar>\r\n        <h3 style=\"margin-top: 12px;margin-left: 5px\">\r\n          {{info.username}}\r\n        </h3>\r\n\r\n            </el-container>\r\n        <span style=\"margin-left: 5px\">{{info.date_created}}</span>\r\n            <el-row>\r\n              <h2 style=\"margin-top: 12px;margin-left: 5px\">{{this.$props.info.caption}}</h2>\r\n            </el-row>\r\n\r\n    <el-row :gutter=\"20\">\r\n            <el-table\r\n      :data=\"commentList\"\r\n      style=\"width: 100%\">\r\n      <el-table-column prop=\"username\"\r\n        label=\"Username\"\r\n        width=\"100\">\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"content\" label=\"Comments\" width=\"400\">\r\n        <template slot-scope=\"scope\">\r\n          <p>{{ scope.row.content }}</p>\r\n          <div slot=\"reference\" class=\"name-wrapper\">\r\n            <el-button\r\n                style=\"margin-left: 0px\"\r\n                size=\"mini\" type='danger' icon=\"el-icon-delete\"\r\n                @click=\"deleteComment(scope.$index, scope.row)\"\r\n                v-if=\"matchStateDeleted(scope.row)\"></el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    </el-row>\r\n\r\n            <el-row :gutter=\"20\">\r\n            <el-input placeholder=\"写个评论吧！\" v-model=\"comment\"></el-input></el-row>\r\n            <div>\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"addComment\" style=\"padding: 10px 10px;\">Comment</el-button>\r\n             <el-button type=\"success\"\r\n                size=\"default\"\r\n                icon=\"el-icon-star-on\"\r\n                style=\"padding: 10px 10px;\"\r\n                @click=\"like()\"\r\n              >Like  {{this.likes}}</el-button></div>\r\n           </el-card>\r\n        </div>\r\n      </el-main>\r\n\r\n    </el-container>\r\n</el-container>\r\n  </div>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ViewPhoto',\r\n  data() {\r\n    return {\r\n      comment: '',\r\n      imagelist: [],\r\n      srcList: [],\r\n      picData: {},\r\n      commentList: {},\r\n      likes: '',\r\n      DeleteVisible: false,\r\n    };\r\n  },\r\n  props: {\r\n    info: {},\r\n  },\r\n  methods:\r\n      {\r\n        BackToImageWall() {\r\n          this.$emit('BacktoImageWall');\r\n        },\r\n        like() {\r\n          axios.post('/api/query-like', { post_id: this.$props.info.post_id, user_id: this.$route.params.userid }).then((res) => {\r\n            if (res.data.status) {\r\n              if (res.data.liked) {\r\n                axios.post('/api/cancel-like', { post_id: this.$props.info.post_id, user_id: this.$route.params.userid }).then((res2) => {\r\n                  if (res2.data.status) {\r\n                    this.$message({\r\n                      type: 'warning',\r\n                      message: '你已点赞此帖，取消点赞',\r\n                    });\r\n                    this.getPost();\r\n                  }\r\n                })\r\n                  .catch((err2) => {\r\n                    console.log(err2);\r\n                  });\r\n              } else {\r\n                axios.post('/api/like-post', { post_id: this.$props.info.post_id, user_id: this.$route.params.userid }).then((res2) => {\r\n                  if (res2.data.status) {\r\n                    console.log('Liked');\r\n                    this.$message({\r\n                      type: 'success',\r\n                      message: '成功点赞',\r\n                    });\r\n                    this.getPost();\r\n                  }\r\n                }).catch((err2) => {\r\n                  console.log(err2);\r\n                });\r\n              }\r\n            }\r\n          }).catch((err) => {\r\n            console.log(err);\r\n          });\r\n        },\r\n        getPost() {\r\n          axios.post('/api/query-post', { post_id: this.info.post_id }).then((res) => {\r\n            if (res.data.status) {\r\n              this.likes = res.data.content.like;\r\n            }\r\n          });\r\n          console.log('getPost');\r\n          this.likes = this.info.like;\r\n          // axios.post('/api/query-all-post', { group_id: this.$props.info.id }).then((res) => {\r\n          //   let posts = [];\r\n          //   if (res.data.status) {\r\n          //     posts = res.data.post_list;\r\n          //     console.log(posts);\r\n          //     for (let i = 0; i < posts.length; i += 1) {\r\n          //       // eslint-disable-next-line\r\n          //       const src = '/api/show/' + this.$props.info.id + '/' + posts[i].media;\r\n          //       const tmp = {};\r\n          //       tmp.src = src;\r\n          //       tmp.post_id = posts[i].id;\r\n          //       tmp.caption = posts[i].caption;\r\n          //       tmp.date_created = posts[i].date_created;\r\n          //       tmp.like = posts[i].like;\r\n          //       tmp.user_id = posts[i].user_id;\r\n          //       tmp.username = posts[i].username;\r\n          //       this.imagelist.push(tmp);\r\n          //       this.srcList.push(src);\r\n          //     }\r\n          //     console.log(this.imagelist);\r\n          //     this.fullscreenLoading = false;\r\n          //   }\r\n          // }).catch((err) => {\r\n          //   console.log(err);\r\n          // });\r\n          axios.post('/api/query-comment', { post_id: this.info.post_id }).then((res) => {\r\n            let comments = [];\r\n            if (res.data.status) {\r\n              comments = res.data.comments_list;\r\n              this.commentList = comments;\r\n              // console.log('comments');\r\n              // console.log(comments);\r\n              this.comment = '';\r\n              // console.log(this.$props.info.like);\r\n            }\r\n          });\r\n        },\r\n        addComment() {\r\n          axios.post('/api/add-comment', { post_id: this.info.post_id, user_id: this.$route.params.userid, content: this.comment }).then((res) => {\r\n            if (res.data.status) {\r\n              console.log('Comment posted');\r\n              this.getPost();\r\n            }\r\n          });\r\n        },\r\n        deleteComment(index, row) {\r\n          console.log(row.id);\r\n          axios.post('/api/delete-comment', { comment_id: row.id, user_id: Number(this.$route.params.userid) }).then((res) => {\r\n            if (res.data.status) {\r\n              console.log('delete success');\r\n              this.getPost();\r\n            } else {\r\n              console.log(res.data.message);\r\n            }\r\n          });\r\n        },\r\n        matchStateDeleted(row) {\r\n          return this.DeleteVisible && (Number(row.user_id) === Number(this.$route.params.userid));\r\n        },\r\n        deleteCheck() {\r\n          if (this.DeleteVisible === true) {\r\n            this.DeleteVisible = false;\r\n          } else {\r\n            this.DeleteVisible = true;\r\n          }\r\n        },\r\n      },\r\n  created() {\r\n    console.log('success!');\r\n    // this.data = this.info;\r\n    this.getPost();\r\n    this.deleteCheck();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .el-image {\r\n    width: 100%;\r\n    object-fit: scale-down;\r\n  }\r\n  .el-row {\r\n    margin-bottom: 20px;\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n</style>\r\n"]}]}