{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ImageWall.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ImageWall.vue","mtime":1640167737617},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640165327016},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1640165324120},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640165327016},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640165341316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdJbWFnZVdhbGwnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQo8PDw8PDw8IEhFQUQNCj09PT09PT0NCiAgICAgIERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KPj4+Pj4+PiAwN2FmZDMwYy4uLiBBZGQgZmlsZXMgdmlhIHVwbG9hZA0KICAgICAgZmlsZXM6ICcnLA0KICAgICAgY2FwdGlvbjogJycsDQogICAgICBmdWxsc2NyZWVuTG9hZGluZzogdHJ1ZSwNCiAgICAgIGltYWdlbGlzdDogW10sDQogICAgICBzaG93Vmlld2VyOiBmYWxzZSwNCiAgICAgIHZpZXdfaW5kZXg6IDAsDQogICAgICBzcmNMaXN0OiBbXSwNCiAgICAgIGNvbW1lbnRzOiBbXSwNCiAgICAgIGxpa2VDb3VudDogW10sDQogICAgfTsNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBpbmZvOiB7fSwNCiAgfSwNCiAgbWV0aG9kczogew0KPDw8PDw8PCBIRUFEDQo9PT09PT09DQogICAgVXBsb2FkQ2xpY2soKSB7DQogICAgICB0aGlzLkRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgIH0sDQo+Pj4+Pj4+IDA3YWZkMzBjLi4uIEFkZCBmaWxlcyB2aWEgdXBsb2FkDQogICAgZ2V0UG9zdCgpIHsNCiAgICAgIHRoaXMuaW1hZ2VsaXN0ID0gW107DQogICAgICB0aGlzLnNyY0xpc3QgPSBbXTsNCiAgICAgIHRoaXMuZnVsbHNjcmVlbkxvYWRpbmcgPSB0cnVlOw0KICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1hbGwtcG9zdCcsIHsgZ3JvdXBfaWQ6IHRoaXMuJHByb3BzLmluZm8uaWQgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGxldCBwb3N0cyA9IFtdOw0KICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsNCiAgICAgICAgICAgIHBvc3RzID0gcmVzLmRhdGEucG9zdF9saXN0Ow0KICAgICAgICAgICAgY29uc29sZS5sb2cocG9zdHMpOw0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3N0cy5sZW5ndGg7IGkgKz0gMSkgew0KICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUNCiAgICAgICAgICAgICAgY29uc3Qgc3JjID0gJy9hcGkvc2hvdy8nICsgdGhpcy4kcHJvcHMuaW5mby5pZCArICcvJyArIHBvc3RzW2ldLm1lZGlhOw0KICAgICAgICAgICAgICBjb25zdCB0bXAgPSB7fTsNCiAgICAgICAgICAgICAgdG1wLnNyYyA9IHNyYzsNCiAgICAgICAgICAgICAgdG1wLnBvc3RfaWQgPSBwb3N0c1tpXS5pZDsNCiAgICAgICAgICAgICAgdG1wLmNhcHRpb24gPSBwb3N0c1tpXS5jYXB0aW9uOw0KICAgICAgICAgICAgICB0bXAuZGF0ZV9jcmVhdGVkID0gcG9zdHNbaV0uZGF0ZV9jcmVhdGVkOw0KICAgICAgICAgICAgICB0bXAubGlrZSA9IHBvc3RzW2ldLmxpa2U7DQogICAgICAgICAgICAgIHRoaXMubGlrZUNvdW50W2ldID0gdG1wLmxpa2U7DQogICAgICAgICAgICAgIHRtcC51c2VyX2lkID0gcG9zdHNbaV0udXNlcl9pZDsNCiAgICAgICAgICAgICAgdG1wLnVzZXJuYW1lID0gcG9zdHNbaV0udXNlcm5hbWU7DQogICAgICAgICAgICAgIHRoaXMuaW1hZ2VsaXN0LnB1c2godG1wKTsNCiAgICAgICAgICAgICAgdGhpcy5zcmNMaXN0LnB1c2goc3JjKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW1hZ2VsaXN0KTsNCiAgICAgICAgICAgIHRoaXMuZnVsbHNjcmVlbkxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWtlIGNvdW50IGhlcmUnKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGlrZUNvdW50KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBsaWtlKHBpYykgew0KICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1saWtlJywgeyBwb3N0X2lkOiBwaWMucG9zdF9pZCwgdXNlcl9pZDogdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZCB9KQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxpa2VkKSB7DQogICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvY2FuY2VsLWxpa2UnLCB7IHBvc3RfaWQ6IHBpYy5wb3N0X2lkLCB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkIH0pDQogICAgICAgICAgICAgICAgLnRoZW4oKHJlczIpID0+IHsNCiAgICAgICAgICAgICAgICAgIGlmIChyZXMyLmRhdGEuc3RhdHVzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywNCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5L2g5bey54K56LWe5q2k5biW77yM5Y+W5raI54K56LWeJywNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zdCgpOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIyKSA9PiB7DQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIyKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvbGlrZS1wb3N0JywgeyBwb3N0X2lkOiBwaWMucG9zdF9pZCwgdXNlcl9pZDogdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZCB9KQ0KICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAocmVzMi5kYXRhLnN0YXR1cykgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGlrZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip/ngrnotZ4nLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3N0KCk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycjIpID0+IHsNCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycjIpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHZpZXdQaG90byhpdGVtKSB7DQogICAgICB0aGlzLiRlbWl0KCd2aWV3UGhvdG8nLCBpdGVtKTsNCiAgICAgIC8vIGF4aW9zLnBvc3QoJy9hcGkvcXVlcnktY29tbWVudCcsIHsgcG9zdF9pZDogcGljLnBvc3RfaWQgfSkNCiAgICAgIC8vICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgLy8gICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsNCiAgICAgIC8vICAgICAgIHRoaXMuY29tbWVudHMgPSByZXMuZGF0YS5jb21tZW50c19saXN0Ow0KICAgICAgLy8gICAgICAgY29uc29sZS5sb2codGhpcy5jb21tZW50cyk7DQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICB9KQ0KICAgICAgLy8gICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAvLyAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlRmlsZVVwbG9hZCgpIHsNCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZw0KICAgICAgdGhpcy5maWxlcyA9IHRoaXMuJHJlZnMuZmlsZXMuZmlsZXM7DQogICAgfSwNCiAgICBTdWJtaXRGaWxlKCkgew0KPDw8PDw8PCBIRUFEDQo9PT09PT09DQogICAgICB0aGlzLkRpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCj4+Pj4+Pj4gMDdhZmQzMGMuLi4gQWRkIGZpbGVzIHZpYSB1cGxvYWQNCiAgICAgIHRoaXMuZnVsbHNjcmVlbkxvYWRpbmcgPSB0cnVlOw0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdA0KICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFycy1vbi10b3ANCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlcy5sZW5ndGg7IGkgKz0gMSkgew0KICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlc1tpXTsNCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci10ZW1wbGF0ZQ0KICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzW10nLCBmaWxlKTsNCiAgICAgIH0NCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcl9pZCcsIHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdncm91cF9pZCcsIHRoaXMuJHByb3BzLmluZm8uaWQpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdjYXB0aW9uJywgdGhpcy5jYXB0aW9uKTsNCiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvdXBsb2FkLXBvc3QnLA0KICAgICAgICBmb3JtRGF0YSwNCiAgICAgICAgew0KICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsDQogICAgICAgICAgfSwNCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWFycm93LWNhbGxiYWNrDQogICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICBtZXNzYWdlOiAn5oiQ5Yqf5LiK5LygJywNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmdldFBvc3QoKTsNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0UG9zdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["ImageWall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageWall.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n<<<<<<< HEAD\r\n      <h2>Multiple File</h2>\r\n      <hr/>\r\n      <label>Files\r\n=======\r\n       <el-button icon=\"el-icon-folder-add\" type=\"primary\" @click=\"UploadClick\"> 上传照片</el-button>\r\n      <el-dialog title=\"上传照片\" :visible.sync=\"DialogVisible\">\r\n         <label>Files\r\n>>>>>>> 07afd30c... Add files via upload\r\n        <input type=\"file\" id=\"files\" ref=\"files\" multiple v-on:change=\"handleFileUpload( $event )\"/>\r\n      </label>\r\n      <label>Caption\r\n        <input type=\"text\" v-model=\"caption\"/>\r\n      </label>\r\n      <br>\r\n<<<<<<< HEAD\r\n      <el-button v-on:click=\"SubmitFile()\">Submit</el-button>\r\n=======\r\n        <el-button @click=\"DialogVisible = false\">取 消</el-button>\r\n      <el-button icon=\"el-icon-upload\" v-on:click=\"SubmitFile()\" type=\"primary\" >Submit</el-button>\r\n      </el-dialog>\r\n>>>>>>> 07afd30c... Add files via upload\r\n    </div>\r\n    <el-row :gutter=\"20\" v-loading.fullscreen.lock=\"fullscreenLoading\">\r\n          <el-col :span=\"4\" v-for=\"item in imagelist\" :key=\"item.post_id\" style=\"height:250px\">\r\n            <el-card :body-style=\"{ padding: '0px 0px' }\">\r\n              <div slot=\"header\">\r\n                <el-image\r\n      style=\"width: auto; height: 160px\"\r\n      :src=\"item.src\"\r\n      :preview-src-list=\"srcList\">\r\n    </el-image>\r\n  </div>\r\n              <el-button type=\"success\"\r\n                size=\"mini\"\r\n                icon=\"el-icon-arrow-up\"\r\n                style=\"padding: 1px 1px;\"\r\n                @click=\"like(item)\"\r\n              >{{item.like}}</el-button>\r\n              <el-button\r\n                size=\"mini\"\r\n                icon=\"el-icon-edit-outline\"\r\n                style=\"padding: 1px 2px;\"\r\n                type=\"text\"\r\n                class=\"button\"\r\n                @click=\"viewPhoto(item)\"\r\n              >详情</el-button>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ImageWall',\r\n  data() {\r\n    return {\r\n<<<<<<< HEAD\r\n=======\r\n      DialogVisible: false,\r\n>>>>>>> 07afd30c... Add files via upload\r\n      files: '',\r\n      caption: '',\r\n      fullscreenLoading: true,\r\n      imagelist: [],\r\n      showViewer: false,\r\n      view_index: 0,\r\n      srcList: [],\r\n      comments: [],\r\n      likeCount: [],\r\n    };\r\n  },\r\n  props: {\r\n    info: {},\r\n  },\r\n  methods: {\r\n<<<<<<< HEAD\r\n=======\r\n    UploadClick() {\r\n      this.DialogVisible = true;\r\n    },\r\n>>>>>>> 07afd30c... Add files via upload\r\n    getPost() {\r\n      this.imagelist = [];\r\n      this.srcList = [];\r\n      this.fullscreenLoading = true;\r\n      axios.post('/api/query-all-post', { group_id: this.$props.info.id })\r\n        .then((res) => {\r\n          let posts = [];\r\n          if (res.data.status) {\r\n            posts = res.data.post_list;\r\n            console.log(posts);\r\n            for (let i = 0; i < posts.length; i += 1) {\r\n              // eslint-disable-next-line\r\n              const src = '/api/show/' + this.$props.info.id + '/' + posts[i].media;\r\n              const tmp = {};\r\n              tmp.src = src;\r\n              tmp.post_id = posts[i].id;\r\n              tmp.caption = posts[i].caption;\r\n              tmp.date_created = posts[i].date_created;\r\n              tmp.like = posts[i].like;\r\n              this.likeCount[i] = tmp.like;\r\n              tmp.user_id = posts[i].user_id;\r\n              tmp.username = posts[i].username;\r\n              this.imagelist.push(tmp);\r\n              this.srcList.push(src);\r\n            }\r\n            console.log(this.imagelist);\r\n            this.fullscreenLoading = false;\r\n            console.log('like count here');\r\n            console.log(this.likeCount);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    like(pic) {\r\n      axios.post('/api/query-like', { post_id: pic.post_id, user_id: this.$route.params.userid })\r\n        .then((res) => {\r\n          if (res.data.status) {\r\n            if (res.data.liked) {\r\n              axios.post('/api/cancel-like', { post_id: pic.post_id, user_id: this.$route.params.userid })\r\n                .then((res2) => {\r\n                  if (res2.data.status) {\r\n                    this.$message({\r\n                      type: 'warning',\r\n                      message: '你已点赞此帖，取消点赞',\r\n                    });\r\n                    this.getPost();\r\n                  }\r\n                })\r\n                .catch((err2) => {\r\n                  console.log(err2);\r\n                });\r\n            } else {\r\n              axios.post('/api/like-post', { post_id: pic.post_id, user_id: this.$route.params.userid })\r\n                .then((res2) => {\r\n                  if (res2.data.status) {\r\n                    console.log('Liked');\r\n                    this.$message({\r\n                      type: 'success',\r\n                      message: '成功点赞',\r\n                    });\r\n                    this.getPost();\r\n                  }\r\n                })\r\n                .catch((err2) => {\r\n                  console.log(err2);\r\n                });\r\n            }\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    viewPhoto(item) {\r\n      this.$emit('viewPhoto', item);\r\n      // axios.post('/api/query-comment', { post_id: pic.post_id })\r\n      //   .then((res) => {\r\n      //     if (res.data.status) {\r\n      //       this.comments = res.data.comments_list;\r\n      //       console.log(this.comments);\r\n      //     }\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     console.log(err);\r\n      //   });\r\n    },\r\n    handleFileUpload() {\r\n      // eslint-disable-next-line prefer-destructuring\r\n      this.files = this.$refs.files.files;\r\n    },\r\n    SubmitFile() {\r\n<<<<<<< HEAD\r\n=======\r\n      this.DialogVisible = false;\r\n>>>>>>> 07afd30c... Add files via upload\r\n      this.fullscreenLoading = true;\r\n      // eslint-disable-next-line prefer-const\r\n      let formData = new FormData();\r\n      // eslint-disable-next-line vars-on-top\r\n      for (let i = 0; i < this.files.length; i += 1) {\r\n        const file = this.files[i];\r\n        // eslint-disable-next-line prefer-template\r\n        formData.append('files[]', file);\r\n      }\r\n      formData.append('user_id', this.$route.params.userid);\r\n      formData.append('group_id', this.$props.info.id);\r\n      formData.append('caption', this.caption);\r\n      axios.post('/api/upload-post',\r\n        formData,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n          // eslint-disable-next-line prefer-arrow-callback\r\n        }).then((res) => {\r\n        if (res.data.status) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '成功上传',\r\n          });\r\n          this.getPost();\r\n        }\r\n      })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.getPost();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}