{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ProfilePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ProfilePage.vue","mtime":1639760230628},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Byb2ZpbGUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogJycsCiAgICAgIGJpcnRoZGF5OiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBtZXNzYWdlOiAnJywKICAgICAgcGhvbmU6ICcnLAogICAgICB1c2VybmFtZTogJycsCiAgICAgIHF1b3RlOiAnJywKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VySW5mbygpIHsKICAgICAgdGhpcy5pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQ7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQpOwogICAgICBjb25zb2xlLmxvZygnd2hhdCBpcyBnb2luZyBvbicpOwogICAgICBheGlvcy5wb3N0KCcvYXBpL3F1ZXJ5LXVzZXJpbmZvJywgeyB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgICBjb25zb2xlLmxvZygnUXVlcnkgc3VjY2VzcyEnKTsKICAgICAgICAgICAgdGhpcy5iaXJ0aGRheSA9IHJlcy5kYXRhLmJpcnRoZGF5OwogICAgICAgICAgICB0aGlzLmVtYWlsID0gcmVzLmRhdGEuZW1haWw7CiAgICAgICAgICAgIHRoaXMucGhvbmUgPSByZXMuZGF0YS5waG9uZTsKICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IHJlcy5kYXRhLnVzZXJuYW1lOwogICAgICAgICAgICB0aGlzLnF1b3RlID0gcmVzLmRhdGEucXVvdGU7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYmlydGhkYXkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUXVvdGUoKSB7CiAgICAgIHRoaXMuJHByb21wdCgnY2hhbmdlIHlvdXIgcXVvdGUgbGFtb29vb28nLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICB9KS50aGVuKCh7IHZhbHVlIH0pID0+IHsKICAgICAgICBheGlvcy5wb3N0KCcvYXBpL3NhdmUtdXNlcmluZm8nLCB7IHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQsIHBob25lOiB0aGlzLnBob25lLCBxdW90ZTogdmFsdWUgfSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2VzcyEnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOi+k+WFpScsCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZU51bWJlcigpIHsKICAgICAgdGhpcy4kcHJvbXB0KCdjaGFuZ2UgeW91ciBudW1iZXIgZ2VpaWlpaScsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgIH0pLnRoZW4oKHsgdmFsdWUgfSkgPT4gewogICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvc2F2ZS11c2VyaW5mbycsIHsgdXNlcl9pZDogdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZCwgcGhvbmU6IHZhbHVlLCBxdW90ZTogdGhpcy5xdW90ZSB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgdGhpcy5nZXRVc2VySW5mbygpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzIScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI6L6T5YWlJywKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQpOwogIH0sCn07Cg=="},{"version":3,"sources":["ProfilePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProfilePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <!--add a profile pic here-->\n  <div>\n  <div class=info>\n<el-descriptions title=\"User Info\">\n    <el-descriptions-item label=\"Username\">{{ username }}</el-descriptions-item>\n    <el-descriptions-item label=\"Telephone\">{{phone}}</el-descriptions-item>\n    <el-descriptions-item label=\"Birthday\">{{ birthday }}</el-descriptions-item>\n    <el-descriptions-item label=\"Quote\">{{quote}}</el-descriptions-item>\n</el-descriptions>\n  </div>\n  <el-row>\n  <el-button type=\"text\" @click=\"changeQuote\">Edit quote</el-button>\n    <el-button type=\"text\" @click=\"changeNumber\">CHange Number</el-button>\n  </el-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'profile',\n  data() {\n    return {\n      id: '',\n      birthday: '',\n      email: '',\n      message: '',\n      phone: '',\n      username: '',\n      quote: '',\n    };\n  },\n  methods: {\n    getUserInfo() {\n      this.id = this.$route.params.userid;\n      console.log(this.$route.params.userid);\n      console.log('what is going on');\n      axios.post('/api/query-userinfo', { user_id: this.$route.params.userid })\n        .then((res) => {\n          if (res.data.status) {\n            console.log('Query success!');\n            this.birthday = res.data.birthday;\n            this.email = res.data.email;\n            this.phone = res.data.phone;\n            this.username = res.data.username;\n            this.quote = res.data.quote;\n            // console.log(this.birthday);\n          } else {\n            console.log(res.data.message);\n          }\n        });\n    },\n    changeQuote() {\n      this.$prompt('change your quote lamooooo', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({ value }) => {\n        axios.post('/api/save-userinfo', { user_id: this.$route.params.userid, phone: this.phone, quote: value })\n          .then((res) => {\n            if (res.data.status) {\n              this.getUserInfo();\n              console.log('Success!');\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消输入',\n        });\n      });\n    },\n    changeNumber() {\n      this.$prompt('change your number geiiiii', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(({ value }) => {\n        axios.post('/api/save-userinfo', { user_id: this.$route.params.userid, phone: value, quote: this.quote })\n          .then((res) => {\n            if (res.data.status) {\n              this.getUserInfo();\n              console.log('Success!');\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消输入',\n        });\n      });\n    },\n  },\n  created() {\n    this.getUserInfo();\n    console.log(this.$route.params.userid);\n  },\n};\n</script>\n"]}]}