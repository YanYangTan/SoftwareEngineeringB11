{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\GatherList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\GatherList.vue","mtime":1639669356701},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGdhdGhlcmxpc3Q6IFtdLAogICAgICBjb250ZW50czoge30sCiAgICAgIGFkZGluZ2NvbnRlbnQ6IGZhbHNlLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHZvdGVGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHN1Z2dlc3Rpb25Gb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGNoZWNrOiB0cnVlLAogICAgICBnYXRoZXJpbmc6IHsKICAgICAgICB1c2VyX2lkOiAnJywKICAgICAgICBncm91cF9pZDogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGVuZGRhdGU6ICcnLAogICAgICAgIHN0YXR1czogJ+aPkOiuricsCiAgICAgICAgYWxsb3dfbXVsdGlwbGVfdm90ZTogMCwKICAgICAgICBjb250ZW50OiBbeyB0aW1lOiAnJywgbG9jYXRpb246ICcnIH1dLAogICAgICB9LAogICAgICB0ZW1wOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcmVnaW9uOiAnJywKICAgICAgICBlbmRkYXRlZGF5OiAnJywKICAgICAgICBlbmRkYXRldGltZTogJycsCiAgICAgICAgZGVsaXZlcnk6IGZhbHNlLAogICAgICAgIHR5cGU6IFtdLAogICAgICAgIHJlc291cmNlOiAnJywKICAgICAgICBkZXNjOiAnJywKICAgICAgfSwKICAgICAgZ2F0aGVyaW5nZGlhbG9ndGl0bGU6ICcnLAogICAgICBjdXJyZW50Z2F0aGVyaW5nOiB7fSwKICAgICAgaXN2b3RlZDogZmFsc2UsCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnLAogICAgICBzZWFyY2g6ICcnLAogICAgICBzdWJtaXRzdWdnZXN0OiB7fSwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgY3VycmVudGdyb3VwOiB7fSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgewogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoaW5kZXgsIHJvdykgewogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsKICAgIH0sCiAgICBmaWx0ZXJUYWcodmFsdWUsIHJvdykgewogICAgICByZXR1cm4gcm93LnN0YXR1cyA9PT0gdmFsdWU7CiAgICB9LAogICAgcXVlcnlBbGxHYXRoZXJpbmcoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvcXVlcnktYWxsLWdhdGhlcmluZycsIHsgZ3JvdXBfaWQ6IHRoaXMuJHByb3BzLmN1cnJlbnRncm91cC5pZCB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgdGhpcy5nYXRoZXJsaXN0ID0gcmVzLmRhdGEuZ2F0aGVyaW5nX2xpc3Q7CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheAogICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5nYXRoZXJsaXN0KSB7CiAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9jaGVjay12b3RlJywgeyB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkLCBnYXRoZXJpbmdfaWQ6IGl0ZW0uaWQgfSkKICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm4KICAgICAgICAgICAgICAgIC50aGVuKChyZXMyKSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMyLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS52b3RlZCA9IHJlczIuZGF0YS52b3RlZDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLnZvdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2F0aGVybGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhZGRDb250ZW50KCkgewogICAgICB0aGlzLmFkZGluZ2NvbnRlbnQgPSB0cnVlOwogICAgfSwKICAgIC8vIOWGheWuuQogICAgcmVzZXRGb3JtKCkgewogICAgICB0aGlzLmdhdGhlcmluZy5jb250ZW50ID0gW3sgdGltZTogJycsIGxvY2F0aW9uOiAnJyB9XTsKICAgIH0sCiAgICByZW1vdmVEb21haW4oaXRlbSkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2F0aGVyaW5nLmNvbnRlbnQuaW5kZXhPZihpdGVtKTsKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIHRoaXMuZ2F0aGVyaW5nLmNvbnRlbnQuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIGFkZERvbWFpbigpIHsKICAgICAgdGhpcy5nYXRoZXJpbmcuY29udGVudC5wdXNoKHsKICAgICAgICB0aW1lOiAnJywKICAgICAgICBsb2NhdGlvbjogJycsCiAgICAgICAga2V5OiBEYXRlLm5vdygpLAogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtR2F0aGVyaW5nKCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuZ2F0aGVyaW5nLmdyb3VwX2lkID0gdGhpcy4kcHJvcHMuY3VycmVudGdyb3VwLmlkOwogICAgICB0aGlzLmdhdGhlcmluZy51c2VyX2lkID0gdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZDsKICAgICAgdGhpcy5nYXRoZXJpbmcuc3RhdHVzID0gdGhpcy5nYXRoZXJpbmcuc3RhdHVzID09PSAn5o+Q6K6uJzsKICAgICAgLy8gdGhpcy5nYXRoZXJpbmcuc3RhdHVzID0gJzEnOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmdhdGhlcmluZyk7CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvY3JlYXRlLWdhdGhlcmluZycsIHsKICAgICAgICB1c2VyX2lkOiB0aGlzLmdhdGhlcmluZy51c2VyX2lkLAogICAgICAgIGdyb3VwX2lkOiB0aGlzLmdhdGhlcmluZy5ncm91cF9pZCwKICAgICAgICBuYW1lOiB0aGlzLmdhdGhlcmluZy5uYW1lLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmdhdGhlcmluZy5kZXNjcmlwdGlvbiwKICAgICAgICBlbmRkYXRlOiB0aGlzLmdhdGhlcmluZy5lbmRkYXRlLAogICAgICAgIHN0YXR1czogdGhpcy5nYXRoZXJpbmcuc3RhdHVzLAogICAgICAgIGFsbG93X211bHRpcGxlX3ZvdGU6IHRoaXMuZ2F0aGVyaW5nLmFsbG93X211bHRpcGxlX3ZvdGUsCiAgICAgICAgY29udGVudDogdGhpcy5nYXRoZXJpbmcuY29udGVudCwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgIHRoaXMuZ2F0aGVybGlzdCA9IHJlcy5kYXRhLmdhdGhlcmluZ19saXN0OwogICAgICAgICAgICAvLyBhcHBlbmRUYWcoKTsKICAgICAgICAgICAgdGhpcy5xdWVyeUFsbEdhdGhlcmluZygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuc3RhdHVzKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1Db250ZW50KCkgewogICAgICB0aGlzLmdhdGhlcmluZy51c2VyX2lkID0gdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZDsKICAgICAgLy8gdGhpcy5jb250ZW50cy5vcHRpb25zLnB1c2godGhpcy5nYXRoZXJpbmcuY29udGVudCk7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheAogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jb250ZW50cy5vcHRpb25zKSB7CiAgICAgICAgdGhpcy5nYXRoZXJpbmcuY29udGVudC5wdXNoKGl0ZW0uY29udGVudCk7CiAgICAgIH0KICAgICAgYXhpb3MucG9zdCgnL2FwaS9zYXZlLXN1Z2dlc3Rpb24nLCB7CiAgICAgICAgZ2F0aGVyaW5nX2lkOiB0aGlzLmN1cnJlbnRnYXRoZXJpbmcuaWQsCiAgICAgICAgdXNlcl9pZDogdGhpcy5nYXRoZXJpbmcudXNlcl9pZCwKICAgICAgICBjb250ZW50OiB0aGlzLmdhdGhlcmluZy5jb250ZW50LAogICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgIC8vIHRoaXMudGFnQ2xpY2tlZFN1Z2dlc3Rpb24odGhpcy5jdXJyZW50Z2F0aGVyaW5nKTsKICAgICAgICAgICAgdGhpcy5zdWdnZXN0aW9uRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB0aGlzLmdhdGhlcmluZy5jb250ZW50ID0gW107CiAgICB9LAogICAgY29uZmlybVZvdGUoKSB7CiAgICAgIGNvbnN0IHZvdGVjb250ZW50ID0geyB2b3RlX2lkczogW10sIHVzZXJfaWQ6IDAgfTsKICAgICAgdm90ZWNvbnRlbnQudXNlcl9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQ7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheAogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jb250ZW50cy5vcHRpb25zKSB7CiAgICAgICAgaWYgKGl0ZW0udm90ZWQgPT09IHRydWUpIHsKICAgICAgICAgIHZvdGVjb250ZW50LnZvdGVfaWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh2b3RlY29udGVudC52b3RlX2lkcy5sZW5ndGggIT09IDApIHsKICAgICAgICBheGlvcy5wb3N0KCcvYXBpL3ZvdGUnLCB7IHZvdGVfaWRzOiB2b3RlY29udGVudC52b3RlX2lkcywgdXNlcl9pZDogdm90ZWNvbnRlbnQudXNlcl9pZCB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Z2F0aGVyaW5nLnZvdGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyh2b3RlY29udGVudCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn5pyq6YCJ5oup6YCJ6aG5JywKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoYW5nZUl0KCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRlbnRzKTsKICAgIH0sCiAgICB0YWdDbGlja2VkVm90ZShyb3cpIHsKICAgICAgY29uc29sZS5sb2cocm93KTsKICAgICAgYXhpb3MucG9zdCgnL2FwaS9jaGVjay12b3RlJywgeyB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkLCBnYXRoZXJpbmdfaWQ6IHJvdy5pZCB9KQogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVybgogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgdGhpcy5pc3ZvdGVkID0gcmVzLmRhdGEudm90ZWQ7CiAgICAgICAgICAgIGlmICh0aGlzLmlzdm90ZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkvaDlt7LmipXnpagnLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1nYXRoZXJpbmcnLCB7IGdhdGhlcmluZ19pZDogcm93LmlkIH0pCiAgICAgICAgICAgICAgICAudGhlbigocmVzMSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgaWYgKHJlczEuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRzID0gcmVzMS5kYXRhOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGVudHMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudGdhdGhlcmluZyA9IHJvdzsKICAgICAgICAgICAgICAgICAgICB0aGlzLnZvdGVGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRoZXJpbmdkaWFsb2d0aXRsZSA9ICfmipXnpagnOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0YWdDbGlja2VkU3VnZ2VzdGlvbihyb3cpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1nYXRoZXJpbmcnLCB7IGdhdGhlcmluZ19pZDogcm93LmlkIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgIHRoaXMuY29udGVudHMgPSByZXMuZGF0YTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb250ZW50cyk7CiAgICAgICAgICAgIHRoaXMuY3VycmVudGdhdGhlcmluZyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5zdWdnZXN0aW9uRm9ybVZpc2libGUgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmdhdGhlcmluZ2RpYWxvZ3RpdGxlID0gJ+aPkOiuric7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjaGVja1ZvdGVkKGdhdGhlcmluZykgewogICAgICBheGlvcy5wb3N0KCcvYXBpL2NoZWNrLXZvdGUnLCB7IHVzZXJfaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VyaWQsIGdhdGhlcmluZ19pZDogZ2F0aGVyaW5nLmlkIH0pCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgICB0aGlzLmlzdm90ZWQgPSByZXMuZGF0YS52b3RlZDsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnF1ZXJ5QWxsR2F0aGVyaW5nKCk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5xdWVyeUFsbEdhdGhlcmluZygpOwogIH0sCn07Cg=="},{"version":3,"sources":["GatherList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8MA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GatherList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-button  @click=\"dialogFormVisible = true\">打开嵌套表单的 Dialog</el-button>\n\n<el-dialog title=\"发起聚会\" :visible.sync=\"dialogFormVisible\">\n  <el-form :model=\"temp\">\n    <el-form-item label=\"聚会名称\" :label-width=\"formLabelWidth\">\n      <el-input v-model=\"gathering.name\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"描述\" :label-width=\"formLabelWidth\">\n      <el-input v-model=\"gathering.description\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"截止时间\">\n    <el-date-picker\n      v-model=\"gathering.enddate\"\n      value-format=\"yyyy-MM-dd HH:mm:ss\"\n      type=\"datetime\"\n      placeholder=\"选择日期时间\">\n    </el-date-picker>\n  </el-form-item>\n    <el-form-item label=\"发起类型\" :label-width=\"formLabelWidth\">\n      <el-radio-group v-model=\"gathering.status\">\n      <el-radio label=\"提议\"></el-radio>\n      <el-radio label=\"投票\"></el-radio>\n    </el-radio-group>\n    </el-form-item>\n    <el-form-item label=\"投票多选\" :label-width=\"formLabelWidth\">\n       <el-switch v-model=\"gathering.allow_multiple_vote\"></el-switch>\n    </el-form-item>\n    <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n  <el-form-item\n    v-for=\"(domain, index) in  gathering.content\"\n    :label=\"'方案 ' + index\"\n    :key=\"domain.key\"\n    :rules=\"{\n      required: true, message: '不能为空', trigger: 'blur'\n    }\"\n  >\n    <el-col :span=\"11\">\n      <el-date-picker\n      v-model=\"domain.time\"\n      type=\"datetime\"\n      value-format=\"yyyy-MM-dd HH:mm:ss\"\n      placeholder=\"选择日期时间\">\n    </el-date-picker>\n    </el-col>\n    <el-input v-model=\"domain.location\"></el-input><el-button @click.prevent=\"removeDomain(domain)\">删除</el-button>\n  </el-form-item>\n  <el-form-item>\n    <el-button @click=\"addDomain\">新建内容</el-button>\n    <el-button @click=\"resetForm\">重置</el-button>\n  </el-form-item>\n    </el-form-item>\n  </el-form>\n  <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"confirmGathering\">确 定</el-button>\n  </div>\n</el-dialog>\n<!--    -->\n    <el-dialog :title=\"this.gatheringdialogtitle\" :visible.sync=\"voteFormVisible\">\n      <el-table\n    :data=\"this.contents.options\"\n    style=\"width: 100%\"\n      v-loading=\"loading\">\n        <el-table-column\n      label=\"截止日期\"\n      prop=\"content.time\">\n    </el-table-column>\n        <el-table-column\n      label=\"场所\"\n      prop=\"content.location\">\n    </el-table-column>\n        <el-table-column\n      label=\"投票数\"\n      prop=\"vote_count\">\n    </el-table-column>\n        <el-table-column\n        prop=\"voted\">\n<!-- ---------------------------- vote ------------------------------------------------------------>\n<!--       <div v-if=\"this.gatheringdialogtitle==='投票'\">-->\n          <template slot=\"header\" slot-scope={}>\n<el-checkbox :indeterminate=\"isIndeterminate\">全选</el-checkbox>\n      </template>\n      <template slot-scope=\"scope\">\n    <el-checkbox @change=\"changeIt()\" v-model=\"scope.row.voted\">投票</el-checkbox>\n      </template></el-table-column>\n      </el-table>\n      <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"voteFormVisible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"confirmVote\">{{this.gatheringdialogtitle}}</el-button>\n  </div>\n    </el-dialog>\n<!--                </div>-->\n<!-- ---------------------------- tiyi ------------------------------------------------------------>\n\n    <el-dialog :title=\"this.gatheringdialogtitle\" :visible.sync=\"suggestionFormVisible\">\n      <el-table\n    :data=\"this.contents.options\"\n    style=\"width: 100%\"\n      v-loading=\"loading\">\n        <el-table-column\n      label=\"截止日期\"\n      prop=\"content.time\">\n    </el-table-column>\n        <el-table-column\n      label=\"场所\"\n      prop=\"content.location\">\n    </el-table-column>\n        <el-table-column\n      label=\"提议人\"\n      prop=\"username\">\n    </el-table-column>\n        <el-table-column\n        prop=\"voted\">\n        </el-table-column>\n      </el-table>\n      <div v-if=\"this.gatheringdialogtitle==='提议'\" >\n          <el-form :model=\"temp\">\n        <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n  <el-form-item\n    v-for=\"(domain, index) in  gathering.content\"\n    :label=\"'方案 ' + index\"\n    :key=\"domain.key\"\n    :rules=\"{\n      required: true, message: '不能为空', trigger: 'blur'\n    }\"\n  >\n    <el-col :span=\"11\">\n      <el-date-picker\n      v-model=\"domain.time\"\n      type=\"datetime\"\n      value-format=\"yyyy-MM-dd HH:mm:ss\"\n      placeholder=\"选择日期时间\">\n    </el-date-picker>\n    </el-col>\n    <el-input v-model=\"domain.location\"></el-input><el-button @click.prevent=\"removeDomain(domain)\">删除</el-button>\n  </el-form-item>\n  <el-form-item>\n    <el-button @click=\"addDomain\">新建内容</el-button>\n    <el-button @click=\"resetForm\">重置</el-button>\n  </el-form-item>\n    </el-form-item>\n          </el-form>\n          </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"suggestionFormVisible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"confirmContent\">{{this.gatheringdialogtitle}}</el-button>\n  </div>\n    </el-dialog>\n<!--    -->\n    <el-input\n          v-model=\"search\"\n          size=\"mini\"\n          placeholder=\"输入关键字搜索\"/>\n    <el-card>\n  <el-table\n    :data=\"this.gatherlist.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))\"\n    style=\"width: 100%\"\n  v-loading=\"loading\">\n    <el-table-column\n      label=\"截止日期\"\n      prop=\"enddate\">\n    </el-table-column>\n    <el-table-column\n      label=\"名字\"\n    prop=\"name\">\n      <template slot-scope=\"scope\">\n        <el-popover trigger=\"hover\" placement=\"top-start\" >\n          <p>描述: {{ scope.row.description }}</p>\n          <div slot=\"reference\" class=\"name-wrapper\">\n            <el-tag type='info' size=\"medium\">{{ scope.row.name }}</el-tag>\n          </div>\n        </el-popover>\n      </template>\n    </el-table-column>\n<!--    <el-table-column-->\n<!--      align=\"right\">-->\n<!--      <template slot=\"header\" slot-scope={}>-->\n<!--      </template>-->\n<!--    </el-table-column>-->\n    <el-table-column\n      prop=\"status\"\n      label=\"标签\"\n      width=\"100\"\n      :filters=\"[{ text: '投票', value: false }, { text: '提议', value: true }]\"\n      :filter-method=\"filterTag\"\n      filter-placement=\"bottom-end\">\n      <template slot-scope=\"scope\">\n        <el-tag @click=\"tagClickedSuggestion(scope.row)\"\n          type='primary'\n          v-if=\"scope.row.status \" >提议</el-tag>\n        <el-tag @click=\"tagClickedVote(scope.row)\"\n          type='warning'\n          v-else-if=\"scope.row.status === false && scope.row.voted\" >已投票</el-tag>\n        <el-tag @click=\"tagClickedVote(scope.row)\"\n          type='success'\n          v-else-if=\"scope.row.status === false && scope.row.voted===false\" >投票</el-tag>\n      </template>\n    </el-table-column>\n  </el-table>\n      </el-card>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      loading: true,\n      gatherlist: [],\n      contents: {},\n      addingcontent: false,\n      dialogFormVisible: false,\n      voteFormVisible: false,\n      suggestionFormVisible: false,\n      check: true,\n      gathering: {\n        user_id: '',\n        group_id: '',\n        name: '',\n        description: '',\n        enddate: '',\n        status: '提议',\n        allow_multiple_vote: 0,\n        content: [{ time: '', location: '' }],\n      },\n      temp: {\n        name: '',\n        region: '',\n        enddateday: '',\n        enddatetime: '',\n        delivery: false,\n        type: [],\n        resource: '',\n        desc: '',\n      },\n      gatheringdialogtitle: '',\n      currentgathering: {},\n      isvoted: false,\n      formLabelWidth: '120px',\n      search: '',\n      submitsuggest: {},\n    };\n  },\n  props: {\n    currentgroup: {},\n  },\n  methods: {\n    handleEdit(index, row) {\n      console.log(index, row);\n    },\n    handleDelete(index, row) {\n      console.log(index, row);\n    },\n    filterTag(value, row) {\n      return row.status === value;\n    },\n    queryAllGathering() {\n      this.loading = true;\n      axios.post('/api/query-all-gathering', { group_id: this.$props.currentgroup.id })\n        .then((res) => {\n          if (res.data.status) {\n            this.gatherlist = res.data.gathering_list;\n            // eslint-disable-next-line no-restricted-syntax\n            for (const item of this.gatherlist) {\n              axios.post('/api/check-vote', { user_id: this.$route.params.userid, gathering_id: item.id })\n              // eslint-disable-next-line consistent-return\n                .then((res2) => {\n                  if (res2.data.status) {\n                    item.voted = res2.data.voted;\n                  } else {\n                    item.voted = false;\n                  }\n                })\n                .catch((err) => {\n                  console.log(err);\n                });\n            }\n            this.loading = false;\n            console.log(this.gatherlist);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    addContent() {\n      this.addingcontent = true;\n    },\n    // 内容\n    resetForm() {\n      this.gathering.content = [{ time: '', location: '' }];\n    },\n    removeDomain(item) {\n      const index = this.gathering.content.indexOf(item);\n      if (index !== -1) {\n        this.gathering.content.splice(index, 1);\n      }\n    },\n    addDomain() {\n      this.gathering.content.push({\n        time: '',\n        location: '',\n        key: Date.now(),\n      });\n    },\n    confirmGathering() {\n      this.dialogFormVisible = false;\n      this.gathering.group_id = this.$props.currentgroup.id;\n      this.gathering.user_id = this.$route.params.userid;\n      this.gathering.status = this.gathering.status === '提议';\n      // this.gathering.status = '1';\n      console.log(this.gathering);\n      axios.post('/api/create-gathering', {\n        user_id: this.gathering.user_id,\n        group_id: this.gathering.group_id,\n        name: this.gathering.name,\n        description: this.gathering.description,\n        enddate: this.gathering.enddate,\n        status: this.gathering.status,\n        allow_multiple_vote: this.gathering.allow_multiple_vote,\n        content: this.gathering.content,\n      })\n        .then((res) => {\n          if (res.data.status) {\n            this.gatherlist = res.data.gathering_list;\n            // appendTag();\n            this.queryAllGathering();\n          } else {\n            console.log(res.data.status);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    confirmContent() {\n      this.gathering.user_id = this.$route.params.userid;\n      // this.contents.options.push(this.gathering.content);\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of this.contents.options) {\n        this.gathering.content.push(item.content);\n      }\n      axios.post('/api/save-suggestion', {\n        gathering_id: this.currentgathering.id,\n        user_id: this.gathering.user_id,\n        content: this.gathering.content,\n      })\n        .then((res) => {\n          if (res.data.status) {\n            console.log(res.data.message);\n            // this.tagClickedSuggestion(this.currentgathering);\n            this.suggestionFormVisible = false;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.gathering.content = [];\n    },\n    confirmVote() {\n      const votecontent = { vote_ids: [], user_id: 0 };\n      votecontent.user_id = this.$route.params.userid;\n      // eslint-disable-next-line no-restricted-syntax\n      for (const item of this.contents.options) {\n        if (item.voted === true) {\n          votecontent.vote_ids.push(item.id);\n        }\n      }\n      if (votecontent.vote_ids.length !== 0) {\n        axios.post('/api/vote', { vote_ids: votecontent.vote_ids, user_id: votecontent.user_id })\n          .then((res) => {\n            if (res.data.status) {\n              console.log(res.data.message);\n              this.currentgathering.voted = true;\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n        console.log(votecontent);\n      } else {\n        this.$message({\n          type: 'warning',\n          message: '未选择选项',\n        });\n      }\n    },\n    changeIt() {\n      console.log(this.contents);\n    },\n    tagClickedVote(row) {\n      console.log(row);\n      axios.post('/api/check-vote', { user_id: this.$route.params.userid, gathering_id: row.id })\n        // eslint-disable-next-line consistent-return\n        .then((res) => {\n          if (res.data.status) {\n            this.isvoted = res.data.voted;\n            if (this.isvoted === true) {\n              this.$message({\n                type: 'warning',\n                message: '你已投票',\n              });\n            } else {\n              this.loading = true;\n              axios.post('/api/query-gathering', { gathering_id: row.id })\n                .then((res1) => {\n                  this.loading = false;\n                  if (res1.data.status) {\n                    this.contents = res1.data;\n                    console.log(this.contents);\n                    this.currentgathering = row;\n                    this.voteFormVisible = true;\n                    this.gatheringdialogtitle = '投票';\n                  }\n                })\n                .catch((err) => {\n                  console.log(err);\n                });\n            }\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    tagClickedSuggestion(row) {\n      this.loading = true;\n      axios.post('/api/query-gathering', { gathering_id: row.id })\n        .then((res) => {\n          this.loading = false;\n          if (res.data.status) {\n            this.contents = res.data;\n            console.log(this.contents);\n            this.currentgathering = row;\n            this.suggestionFormVisible = true;\n            this.gatheringdialogtitle = '提议';\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    checkVoted(gathering) {\n      axios.post('/api/check-vote', { user_id: this.$route.params.userid, gathering_id: gathering.id })\n        // eslint-disable-next-line consistent-return\n        .then((res) => {\n          if (res.data.status) {\n            this.isvoted = res.data.voted;\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.queryAllGathering();\n  },\n  created() {\n    this.queryAllGathering();\n  },\n};\n</script>\n"]}]}