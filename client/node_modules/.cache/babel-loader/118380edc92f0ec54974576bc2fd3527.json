{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Calender.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Calender.vue","mtime":1639669230521},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\babel.config.js","mtime":1636396230048},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMKaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICdkYXlzcGFuJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FsZW5kZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBzdG9yZUtleTogJ2RheXNwYW5TdGF0ZScsCiAgICAgIGNhbGVuZGFyOiBDYWxlbmRhci5tb250aHMoKSwKICAgICAgcmVhZE9ubHk6IGZhbHNlLAogICAgICBkZWZhdWx0RXZlbnRzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuYXBwID0gdGhpcy4kcmVmcy5hcHA7CiAgICB0aGlzLmxvYWRTdGF0ZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2FsZW5kYXJUaW1lOiBmdW5jdGlvbiBnZXRDYWxlbmRhclRpbWUoY2FsZW5kYXJFdmVudCkgewogICAgICB2YXIgc2EgPSBjYWxlbmRhckV2ZW50LnN0YXJ0LmZvcm1hdCgnYScpOwogICAgICB2YXIgZWEgPSBjYWxlbmRhckV2ZW50LmVuZC5mb3JtYXQoJ2EnKTsKICAgICAgdmFyIHNoID0gY2FsZW5kYXJFdmVudC5zdGFydC5mb3JtYXQoJ2gnKTsKICAgICAgdmFyIGVoID0gY2FsZW5kYXJFdmVudC5lbmQuZm9ybWF0KCdoJyk7CgogICAgICBpZiAoY2FsZW5kYXJFdmVudC5zdGFydC5taW51dGUgIT09IDApIHsKICAgICAgICBzaCArPSBjYWxlbmRhckV2ZW50LnN0YXJ0LmZvcm1hdCgnOm1tJyk7CiAgICAgIH0KCiAgICAgIGlmIChjYWxlbmRhckV2ZW50LmVuZC5taW51dGUgIT09IDApIHsKICAgICAgICBlaCArPSBjYWxlbmRhckV2ZW50LmVuZC5mb3JtYXQoJzptbScpOwogICAgICB9CgogICAgICByZXR1cm4gc2EgPT09IGVhID8gIiIuY29uY2F0KHNoLCAiIC0gIikuY29uY2F0KGVoKS5jb25jYXQoZWEpIDogIiIuY29uY2F0KHNoICsgc2EsICIgLSAiKS5jb25jYXQoZWgpLmNvbmNhdChlYSk7CiAgICB9LAogICAgc2F2ZVN0YXRlOiBmdW5jdGlvbiBzYXZlU3RhdGUoKSB7CiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuY2FsZW5kYXIudG9JbnB1dCh0cnVlKTsKICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeShzdGF0ZS5ldmVudHMpOyAvLyBTZW5kIGpzb24gdG8gYmFja2VuZAoKICAgICAgY29uc29sZS5sb2coJ1NhdmUnKTsKICAgICAgY29uc29sZS5sb2coanNvbik7CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvc2F2ZS1jYWxlbmRhcicsIHsKICAgICAgICBncm91cF9pZDogdGhpcy4kcm91dGUucGFyYW1zLmdyb3VwaWQsCiAgICAgICAgY29udGVudDoganNvbgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2VzcycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkU3RhdGU6IGZ1bmN0aW9uIGxvYWRTdGF0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnBhcmFtcy5ncm91cGlkKTsKICAgICAgdmFyIHN0YXRlID0ge307CgogICAgICBpZiAoIXN0YXRlLmV2ZW50cyB8fCAhc3RhdGUuZXZlbnRzLmxlbmd0aCkgewogICAgICAgIHN0YXRlLmV2ZW50cyA9IHRoaXMuZGVmYXVsdEV2ZW50czsKICAgICAgfQoKICAgICAgc3RhdGUuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2KSB7CiAgICAgICAgdmFyIGRlZmF1bHRzID0gX3RoaXMuJGRheXNwYW4uZ2V0RGVmYXVsdEV2ZW50RGV0YWlscygpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KCgogICAgICAgIGV2LmRhdGEgPSBWdWUudXRpbC5leHRlbmQoZGVmYXVsdHMsIGV2LmRhdGEpOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coJ1Nob3cnKTsgLy8gTG9hZCBmcm9tIGJhY2tlbmQKCiAgICAgIHZhciBldmVudHMgPSBbXTsKICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1jYWxlbmRhcicsIHsKICAgICAgICBncm91cF9pZDogdGhpcy4kcm91dGUucGFyYW1zLmdyb3VwaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ1F1ZXJ5IHN1Y2Nlc3MhJyk7CiAgICAgICAgICBldmVudHMgPSByZXMuZGF0YS5jYWxlbmRhcjsKICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50cyk7CiAgICAgICAgICBzdGF0ZS5ldmVudHMgPSBldmVudHM7CgogICAgICAgICAgX3RoaXMuJHJlZnMuYXBwLnNldFN0YXRlKHN0YXRlKTsKCiAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5ldmVudHMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Calender.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app id=\"dayspan\" v-cloak>\n\n    <ds-calendar-app ref=\"app\"\n      :calendar=\"calendar\"\n      :read-only=\"readOnly\"\n      @change=\"saveState\">\n\n      <template slot=\"title\">\n        Calendar\n      </template>\n\n<!--      <template slot=\"menuRight\">-->\n<!--        <v-btn icon large href=\"https://github.com/ClickerMonkey/dayspan-vuetify\" target=\"_blank\">-->\n<!--          <v-avatar size=\"32px\" tile>-->\n<!--            <img src=\"https://simpleicons.org/icons/github.svg\" alt=\"Github\">-->\n<!--          </v-avatar>-->\n<!--        </v-btn>-->\n<!--      </template>-->\n\n      <template slot=\"eventPopover\" slot-scope=\"slotData\">\n         <ds-calendar-event-popover\n          v-bind=\"slotData\"\n          :read-only=\"readOnly\"\n          @finish=\"saveState\"\n        ></ds-calendar-event-popover>\n      </template>\n\n      <template slot=\"eventCreatePopover\" slot-scope=\"{placeholder, calendar}\">\n        <ds-calendar-event-create-popover\n          :calendar-event=\"placeholder\"\n          :calendar=\"calendar\"\n          :close=\"$refs.app.$refs.calendar.clearPlaceholder\"\n          @create-edit=\"$refs.app.editPlaceholder\"\n          @create-popover-closed=\"saveState\"\n        ></ds-calendar-event-create-popover>\n      </template>\n\n      <template slot=\"eventTimeTitle\" slot-scope=\"{calendarEvent, details}\">\n        <div>\n          <v-icon class=\"ds-ev-icon\"\n            v-if=\"details.icon\"\n            size=\"14\"\n            :style=\"{color: details.forecolor}\">\n            {{ details.icon }}\n          </v-icon>\n          <strong class=\"ds-ev-title\">{{ details.title }}</strong>\n        </div>\n        <div class=\"ds-ev-description\">{{ getCalendarTime( calendarEvent ) }}</div>\n      </template>\n\n      <template slot=\"drawerBottom\">\n        <div class=\"pa-3\">\n          <v-checkbox\n            label=\"Read Only?\"\n            v-model=\"readOnly\"\n          ></v-checkbox>\n        </div>\n      </template>\n\n    </ds-calendar-app>\n\n  </v-app>\n</template>\n\n<style>\nbody, html, #app, #dayspan {\n  font-family: Roboto, sans-serif !important;\n  width: 100%;\n  height: 100%;\n}\n.v-btn--flat,\n.v-text-field--solo .v-input__slot {\n  background-color: #f5f5f5 !important;\n  margin-bottom: 8px !important;\n}\n.ds-day-picker{\n  transition: all .2s ease-in-out;\n  box-shadow: 0 1px 3px grey;\n}\n.ds-day-picker:hover{\n  transform: scale(1.01);\n  box-shadow: 0 4px 8px grey;\n  background-color: #ffffff;\n}\n.ds-week-header{\n  background-color: #c5ccf2;\n}\n.mb-2{\n  box-shadow: 0 1px #3b3d48;\n}\n.subtitle{\n  color: white;\n}\n.ds-day{\n  background-color: #f1f3fc;\n  border: 1px solid #e0e0e0;\n}\n.ds-week-view-scrollable{\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n</style>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Calendar } from 'dayspan';\nimport Vue from 'vue';\n// eslint-disable-next-line\nimport axios from 'axios';\n\nexport default {\n  name: 'Calender',\n  data: () => ({\n    // storeKey: 'dayspanState',\n    calendar: Calendar.months(),\n    readOnly: false,\n    defaultEvents: [],\n  }),\n  mounted() {\n    window.app = this.$refs.app;\n    this.loadState();\n  },\n  methods:\n  {\n    getCalendarTime(calendarEvent) {\n      const sa = calendarEvent.start.format('a');\n      const ea = calendarEvent.end.format('a');\n      let sh = calendarEvent.start.format('h');\n      let eh = calendarEvent.end.format('h');\n      if (calendarEvent.start.minute !== 0) {\n        sh += calendarEvent.start.format(':mm');\n      }\n      if (calendarEvent.end.minute !== 0) {\n        eh += calendarEvent.end.format(':mm');\n      }\n      return (sa === ea) ? (`${sh} - ${eh}${ea}`) : (`${sh + sa} - ${eh}${ea}`);\n    },\n    saveState() {\n      const state = this.calendar.toInput(true);\n      const json = JSON.stringify(state.events);\n      // Send json to backend\n      console.log('Save');\n      console.log(json);\n      axios.post('/api/save-calendar', {\n        group_id: this.$route.params.groupid,\n        content: json,\n      })\n        .then((res) => {\n          if (res.data.status) {\n            console.log('Success');\n          } else {\n            console.log('Failed');\n          }\n        });\n    },\n    loadState() {\n      console.log(this.$route.params.groupid);\n      const state = {};\n      if (!state.events || !state.events.length) {\n        state.events = this.defaultEvents;\n      }\n      state.events.forEach((ev) => {\n        const defaults = this.$dayspan.getDefaultEventDetails();\n        // eslint-disable-next-line no-param-reassign\n        ev.data = Vue.util.extend(defaults, ev.data);\n      });\n      console.log('Show');\n      // Load from backend\n      let events = [];\n      axios.post('/api/query-calendar', {\n        group_id: this.$route.params.groupid,\n      })\n        .then((res) => {\n          if (res.data.status) {\n            console.log('Query success!');\n            events = res.data.calendar;\n            console.log(events);\n            state.events = events;\n            this.$refs.app.setState(state);\n            console.log(state.events);\n          } else {\n            console.log(res.data.message);\n          }\n        });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}