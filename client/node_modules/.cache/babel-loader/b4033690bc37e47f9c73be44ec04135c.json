{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Calender.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\Calender.vue","mtime":1640200144700},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\babel.config.js","mtime":1636396230048},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640200142227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMKaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICdkYXlzcGFuJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FsZW5kZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBzdG9yZUtleTogJ2RheXNwYW5TdGF0ZScsCiAgICAgIGZ1bGxzY3JlZW5Mb2FkaW5nOiB0cnVlLAogICAgICBjYWxlbmRhcjogQ2FsZW5kYXIubW9udGhzKCksCiAgICAgIHJlYWRPbmx5OiBmYWxzZSwKICAgICAgZGVmYXVsdEV2ZW50czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYWxlbmRhclRpbWU6IGZ1bmN0aW9uIGdldENhbGVuZGFyVGltZShjYWxlbmRhckV2ZW50KSB7CiAgICAgIHZhciBzYSA9IGNhbGVuZGFyRXZlbnQuc3RhcnQuZm9ybWF0KCdhJyk7CiAgICAgIHZhciBlYSA9IGNhbGVuZGFyRXZlbnQuZW5kLmZvcm1hdCgnYScpOwogICAgICB2YXIgc2ggPSBjYWxlbmRhckV2ZW50LnN0YXJ0LmZvcm1hdCgnaCcpOwogICAgICB2YXIgZWggPSBjYWxlbmRhckV2ZW50LmVuZC5mb3JtYXQoJ2gnKTsKCiAgICAgIGlmIChjYWxlbmRhckV2ZW50LnN0YXJ0Lm1pbnV0ZSAhPT0gMCkgewogICAgICAgIHNoICs9IGNhbGVuZGFyRXZlbnQuc3RhcnQuZm9ybWF0KCc6bW0nKTsKICAgICAgfQoKICAgICAgaWYgKGNhbGVuZGFyRXZlbnQuZW5kLm1pbnV0ZSAhPT0gMCkgewogICAgICAgIGVoICs9IGNhbGVuZGFyRXZlbnQuZW5kLmZvcm1hdCgnOm1tJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzYSA9PT0gZWEgPyAiIi5jb25jYXQoc2gsICIgLSAiKS5jb25jYXQoZWgpLmNvbmNhdChlYSkgOiAiIi5jb25jYXQoc2ggKyBzYSwgIiAtICIpLmNvbmNhdChlaCkuY29uY2F0KGVhKTsKICAgIH0sCiAgICBzYXZlU3RhdGU6IGZ1bmN0aW9uIHNhdmVTdGF0ZSgpIHsKICAgICAgdmFyIHN0YXRlID0gdGhpcy5jYWxlbmRhci50b0lucHV0KHRydWUpOwogICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHN0YXRlLmV2ZW50cyk7IC8vIFNlbmQganNvbiB0byBiYWNrZW5kCgogICAgICBheGlvcy5wb3N0KCcvYXBpL3NhdmUtY2FsZW5kYXInLCB7CiAgICAgICAgaXNHcm91cDogdGhpcy4kcm91dGUucGFyYW1zLmlzR3JvdXAgPT09ICcxJywKICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgIGNvbnRlbnQ6IGpzb24KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ1NhdmVkJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdTYXZlIEZhaWxlZCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZFN0YXRlOiBmdW5jdGlvbiBsb2FkU3RhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmZ1bGxzY3JlZW5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHN0YXRlID0ge307CgogICAgICBpZiAoIXN0YXRlLmV2ZW50cyB8fCAhc3RhdGUuZXZlbnRzLmxlbmd0aCkgewogICAgICAgIHN0YXRlLmV2ZW50cyA9IHRoaXMuZGVmYXVsdEV2ZW50czsKICAgICAgfQoKICAgICAgc3RhdGUuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2KSB7CiAgICAgICAgdmFyIGRlZmF1bHRzID0gX3RoaXMuJGRheXNwYW4uZ2V0RGVmYXVsdEV2ZW50RGV0YWlscygpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KCgogICAgICAgIGV2LmRhdGEgPSBWdWUudXRpbC5leHRlbmQoZGVmYXVsdHMsIGV2LmRhdGEpOwogICAgICB9KTsgLy8gTG9hZCBmcm9tIGJhY2tlbmQKCiAgICAgIHZhciBldmVudHMgPSBbXTsKICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1jYWxlbmRhcicsIHsKICAgICAgICBpc0dyb3VwOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaXNHcm91cCA9PT0gJzEnLAogICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgY29uc29sZS5sb2coJ1F1ZXJ5IHN1Y2Nlc3MhJyk7CiAgICAgICAgICBldmVudHMgPSByZXMuZGF0YS5jYWxlbmRhcjsKICAgICAgICAgIHN0YXRlLmV2ZW50cyA9IGV2ZW50czsKCiAgICAgICAgICBfdGhpcy4kcmVmcy5hcHAuc2V0U3RhdGUoc3RhdGUpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmV2ZW50cyk7CiAgICAgICAgICBfdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHdpbmRvdy5hcHAgPSB0aGlzLiRyZWZzLmFwcDsKICAgIHRoaXMubG9hZFN0YXRlKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Calender.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA,SAAA,QAAA,QAAA,SAAA;AACA,OAAA,GAAA,MAAA,KAAA,C,CACA;;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,MAAA,iBAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA,QAAA,CAAA,MAAA,EAHA;AAIA,MAAA,QAAA,EAAA,KAJA;AAKA,MAAA,aAAA,EAAA;AALA,KAAA;AAAA,GAFA;AASA,EAAA,OAAA,EACA;AACA,IAAA,eADA,2BACA,aADA,EACA;AACA,UAAA,EAAA,GAAA,aAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,aAAA,CAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,aAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,aAAA,CAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA;;AACA,UAAA,aAAA,CAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,QAAA,EAAA,IAAA,aAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA;;AACA,UAAA,aAAA,CAAA,GAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,QAAA,EAAA,IAAA,aAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA;;AACA,aAAA,EAAA,KAAA,EAAA,aAAA,EAAA,gBAAA,EAAA,SAAA,EAAA,cAAA,EAAA,GAAA,EAAA,gBAAA,EAAA,SAAA,EAAA,CAAA;AACA,KAbA;AAcA,IAAA,SAdA,uBAcA;AACA,UAAA,KAAA,GAAA,KAAA,QAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAFA,CAGA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,oBAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAAA,KAAA,GADA;AAEA,QAAA,EAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA,EAKA,IALA,CAKA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,SAFA,MAEA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AACA;AACA,OAXA;AAYA,KA9BA;AA+BA,IAAA,SA/BA,uBA+BA;AAAA;;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,CAAA,KAAA,CAAA,MAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA,aAAA;AACA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,QAAA,GAAA,KAAA,CAAA,QAAA,CAAA,sBAAA,EAAA,CADA,CAEA;;;AACA,QAAA,EAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA,EAAA,CAAA,IAAA,CAAA;AACA,OAJA,EANA,CAWA;;AACA,UAAA,MAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,qBAAA,EAAA;AACA,QAAA,OAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAAA,KAAA,GADA;AAEA,QAAA,EAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAFA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,MAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA;AACA,UAAA,KAAA,CAAA,iBAAA,GAAA,KAAA;AACA,SAPA,MAOA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OAfA;AAgBA;AA5DA,GAVA;AAwEA,EAAA,OAxEA,qBAwEA;AACA,IAAA,MAAA,CAAA,GAAA,GAAA,KAAA,KAAA,CAAA,GAAA;AACA,SAAA,SAAA;AACA;AA3EA,CAAA","sourcesContent":["<template>\r\n  <v-app id=\"dayspan\" v-cloak>\r\n    <ds-calendar-app ref=\"app\"\r\n      :calendar=\"calendar\"\r\n      :read-only=\"readOnly\"\r\n      v-loading.fullscreen.lock=\"fullscreenLoading\"\r\n      @change=\"saveState\">\r\n\r\n      <template slot=\"title\">\r\n        Calendar\r\n      </template>\r\n\r\n      <template slot=\"eventPopover\" slot-scope=\"slotData\">\r\n         <ds-calendar-event-popover\r\n          v-bind=\"slotData\"\r\n          :read-only=\"readOnly\"\r\n          @finish=\"saveState\"\r\n        ></ds-calendar-event-popover>\r\n      </template>\r\n\r\n      <template slot=\"eventCreatePopover\" slot-scope=\"{placeholder, calendar}\">\r\n        <ds-calendar-event-create-popover\r\n          :calendar-event=\"placeholder\"\r\n          :calendar=\"calendar\"\r\n          :close=\"$refs.app.$refs.calendar.clearPlaceholder\"\r\n          @create-edit=\"$refs.app.editPlaceholder\"\r\n          @create-popover-closed=\"saveState\"\r\n        ></ds-calendar-event-create-popover>\r\n      </template>\r\n\r\n      <template slot=\"eventTimeTitle\" slot-scope=\"{calendarEvent, details}\">\r\n        <div>\r\n          <v-icon class=\"ds-ev-icon\"\r\n            v-if=\"details.icon\"\r\n            size=\"14\"\r\n            :style=\"{color: details.forecolor}\">\r\n            {{ details.icon }}\r\n          </v-icon>\r\n          <strong class=\"ds-ev-title\">{{ details.title }}</strong>\r\n        </div>\r\n        <div class=\"ds-ev-description\">{{ getCalendarTime( calendarEvent ) }}</div>\r\n      </template>\r\n\r\n    </ds-calendar-app>\r\n  </v-app>\r\n</template>\r\n\r\n<style>\r\nbody, html, #app, #dayspan {\r\n  font-family: Roboto, sans-serif !important;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.v-btn--flat,\r\n.v-text-field--solo .v-input__slot {\r\n  background-color: #f5f5f5 !important;\r\n  margin-bottom: 8px !important;\r\n}\r\n.ds-day-picker{\r\n  transition: all .2s ease-in-out;\r\n  box-shadow: 0 1px 3px grey;\r\n}\r\n.ds-day-picker:hover{\r\n  transform: scale(1.01);\r\n  box-shadow: 0 4px 8px grey;\r\n  background-color: #ffffff;\r\n}\r\n.ds-week-header{\r\n  background-color: #c5ccf2;\r\n}\r\n.mb-2{\r\n  box-shadow: 0 1px #3b3d48;\r\n}\r\n.subtitle{\r\n  color: white;\r\n}\r\n.ds-day{\r\n  background-color: #f1f3fc;\r\n  border: 1px solid #e0e0e0;\r\n}\r\n.ds-week-view-scrollable{\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n</style>\r\n\r\n<script>\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { Calendar } from 'dayspan';\r\nimport Vue from 'vue';\r\n// eslint-disable-next-line\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Calender',\r\n  data: () => ({\r\n    // storeKey: 'dayspanState',\r\n    fullscreenLoading: true,\r\n    calendar: Calendar.months(),\r\n    readOnly: false,\r\n    defaultEvents: [],\r\n  }),\r\n  methods:\r\n  {\r\n    getCalendarTime(calendarEvent) {\r\n      const sa = calendarEvent.start.format('a');\r\n      const ea = calendarEvent.end.format('a');\r\n      let sh = calendarEvent.start.format('h');\r\n      let eh = calendarEvent.end.format('h');\r\n      if (calendarEvent.start.minute !== 0) {\r\n        sh += calendarEvent.start.format(':mm');\r\n      }\r\n      if (calendarEvent.end.minute !== 0) {\r\n        eh += calendarEvent.end.format(':mm');\r\n      }\r\n      return (sa === ea) ? (`${sh} - ${eh}${ea}`) : (`${sh + sa} - ${eh}${ea}`);\r\n    },\r\n    saveState() {\r\n      const state = this.calendar.toInput(true);\r\n      const json = JSON.stringify(state.events);\r\n      // Send json to backend\r\n      axios.post('/api/save-calendar', {\r\n        isGroup: this.$route.params.isGroup === '1',\r\n        id: this.$route.params.id,\r\n        content: json,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.status) {\r\n            console.log('Saved');\r\n          } else {\r\n            console.log('Save Failed');\r\n          }\r\n        });\r\n    },\r\n    loadState() {\r\n      this.fullscreenLoading = true;\r\n      const state = {};\r\n      if (!state.events || !state.events.length) {\r\n        state.events = this.defaultEvents;\r\n      }\r\n      state.events.forEach((ev) => {\r\n        const defaults = this.$dayspan.getDefaultEventDetails();\r\n        // eslint-disable-next-line no-param-reassign\r\n        ev.data = Vue.util.extend(defaults, ev.data);\r\n      });\r\n      // Load from backend\r\n      let events = [];\r\n      axios.post('/api/query-calendar', {\r\n        isGroup: this.$route.params.isGroup === '1',\r\n        id: this.$route.params.id,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.status) {\r\n            console.log('Query success!');\r\n            events = res.data.calendar;\r\n            state.events = events;\r\n            this.$refs.app.setState(state);\r\n            console.log(state.events);\r\n            this.fullscreenLoading = false;\r\n          } else {\r\n            console.log(res.data.message);\r\n          }\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    window.app = this.$refs.app;\r\n    this.loadState();\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}