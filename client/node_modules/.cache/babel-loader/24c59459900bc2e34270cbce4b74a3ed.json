{"remainingRequest":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\GroupList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\GroupList.vue","mtime":1640180189020},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\babel.config.js","mtime":1640099076204},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640099097496},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1640099265001},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640099097496},{"path":"C:\\Users\\trans\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640180123441}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmdWxsc2NyZWVuTG9hZGluZzogdHJ1ZSwKICAgICAgZ3JvdXBsaXN0OiBbXSwKICAgICAgdXNlcmlkOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2Usbm8tdW51c2VkLXZhcnMKICAgIGdyb3VwUGFnZTogZnVuY3Rpb24gZ3JvdXBQYWdlKGl0ZW0pIHsKICAgICAgdGhpcy4kZW1pdCgnZ3JvdXBQYWdlJywgaXRlbSk7CiAgICB9LAogICAgZ2V0UXVlcnk6IGZ1bmN0aW9uIGdldFF1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvcXVlcnktZ3JvdXAnLCB7CiAgICAgICAgdXNlcl9pZDogdGhpcy4kcm91dGUucGFyYW1zLnVzZXJpZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAvLyAgICAgICAgICAgICAgIGRhdGEgeyBzdGF0dXMsIG1lc3NhZ2UsIGdyb3VwX2xpc3QgfQogICAgICAgICAgLy8gZ3JvdXBfbGlzdCBbeyDigJxpZO+8mue+pOe7hElE4oCdLCDigJxncm91cF9uYW1l77ya576k57uE5ZCN5a2X4oCdLCDigJxhZG1pbuKAne+8mueUqOaIt+aYr+WQpuaYr+e+pOS4u30sLi4uXQogICAgICAgICAgX3RoaXMuZ3JvdXBsaXN0ID0gcmVzLmRhdGEuZ3JvdXBfbGlzdDsKCiAgICAgICAgICBfdGhpcy4kZW1pdCgnZGVmYXVsdEdyb3VwJywgX3RoaXMuZ3JvdXBsaXN0WzBdKTsKCiAgICAgICAgICBfdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZUdyb3VwOiBmdW5jdGlvbiBjcmVhdGVHcm91cCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRwcm9tcHQoJ+S4uuS9oOeahOaWsOe+pOWPluS4gOS4quWlveWQrOeahOWQjeWtlycsICfnvqTnu4TliJvlu7onLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwoKICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgdmFsdWUgPSAnJzsKICAgICAgICB9CgogICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvY3JlYXRlLWdyb3VwJywgewogICAgICAgICAgdXNlcl9pZDogX3RoaXMyLiRyb3V0ZS5wYXJhbXMudXNlcmlkLAogICAgICAgICAgZ3JvdXBfbmFtZTogdmFsdWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgICAgdmFyIHN0cjsKICAgICAgICAgIHZhciBtZXNzYWdldHlwZTsKCiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgIF90aGlzMi5ncm91cGxpc3QucHVzaCh7CiAgICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLmdyb3VwX2lkLAogICAgICAgICAgICAgIGdyb3VwX25hbWU6IHZhbHVlLAogICAgICAgICAgICAgIGFkbWluOiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgbWVzc2FnZXR5cGUgPSAnc3VjY2Vzcyc7CiAgICAgICAgICAgIHN0ciA9ICJcdTYyMTBcdTUyOUZcdTUyMUJcdTVFRkFcdTdGQTRcdTdFQzRcdUZGMENcdTU0MERcdTRFM0FcdUZGMUEiLmNvbmNhdCh2YWx1ZSwgIiBcdTkwODBcdThCRjdcdTc4MDFcdTRFM0EgIikuY29uY2F0KHJlcy5kYXRhLmludml0ZV9rZXkpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0ciA9ICfliJvlu7rlpLHotKUnOwogICAgICAgICAgICBtZXNzYWdldHlwZSA9ICd3YXJuaW5nJzsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiBtZXNzYWdldHlwZSwKICAgICAgICAgICAgbWVzc2FnZTogc3RyCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojovpPlhaUnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGpvaW5Hcm91cDogZnVuY3Rpb24gam9pbkdyb3VwKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHByb21wdCgn6L6T5YWl6YKA6K+356CBJywgJ+WKoOWFpScsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTsKICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2pvaW4tZ3JvdXAnLCB7CiAgICAgICAgICB1c2VyX2lkOiBfdGhpczMuJHJvdXRlLnBhcmFtcy51c2VyaWQsCiAgICAgICAgICBpbnZpdGVfa2V5OiB2YWx1ZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgICAgICB2YXIgc3RyOwogICAgICAgICAgdmFyIG1lc3NhZ2V0eXBlOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgc3RyID0gJ+aIkOWKn+WKoOWFpSc7CiAgICAgICAgICAgIG1lc3NhZ2V0eXBlID0gJ3N1Y2Nlc3MnOwoKICAgICAgICAgICAgX3RoaXMzLmdldFF1ZXJ5KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdHIgPSAn5Yqg5YWl5aSx6LSlJzsKICAgICAgICAgICAgbWVzc2FnZXR5cGUgPSAnd2FybmluZyc7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogbWVzc2FnZXR5cGUsCiAgICAgICAgICAgIG1lc3NhZ2U6IHN0cgogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI6L6T5YWlJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFF1ZXJ5KCk7CiAgfQp9Ow=="},{"version":3,"sources":["GroupList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-button class=\"el-icon-circle-plus\" type=\"primary\" @click=\"createGroup\"> 创建群组</el-button>\n    <el-button class=\"el-icon-connection\" type=\"primary\" @click=\"joinGroup\"> 加入群组</el-button>\n    <div class=\"group-list\" v-loading.fullscreen.lock=\"fullscreenLoading\">\n\n      <el-row :gutter=\"20\">\n        <el-col :span=\"3\" v-for=\"item in grouplist\" :key=\"item.id\" style=\"height:200px\">\n          <el-card :body-style=\"{ padding: '0px 0px' }\" >\n\n            <div slot=\"header\">\n              <img src=\"../assets/logo.png\" style=\"width:100px;height:100px;\" @click=\"groupPage(item)\" class=\"head_audio\" />\n            </div>\n            <!-- here to fix text -->\n<!--            <span style=\"font-size: 15px;\">{{item.group_name}}</span>-->\n            <el-button size=\"mini\" icon=\"el-icon-edit-outline\" style=\"padding: 1px 1px;\" type=\"text\"\n                       class=\"button\" @click=\"groupPage(item)\">{{item.group_name}}</el-button>\n          </el-card>\n        </el-col>\n      </el-row>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      fullscreenLoading: true,\n      grouplist: [],\n      userid: '',\n    };\n  },\n  methods:\n    {\n      // eslint-disable-next-line camelcase,no-unused-vars\n      groupPage(item) {\n        this.$emit('groupPage', item);\n      },\n      getQuery() {\n        this.fullscreenLoading = true;\n        axios.post('/api/query-group', { user_id: this.$route.params.userid })\n          .then((res) => {\n            if (res.data.status) {\n              //               data { status, message, group_list }\n              // group_list [{ “id：群组ID”, “group_name：群组名字”, “admin”：用户是否是群主},...]\n              this.grouplist = res.data.group_list;\n              this.$emit('defaultGroup', this.grouplist[0]);\n              this.fullscreenLoading = false;\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      },\n      createGroup() {\n        this.$prompt('为你的新群取一个好听的名字', '群组创建', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        }).then(({ value }) => {\n          if (value === null) {\n            // eslint-disable-next-line\n            value = '';\n          }\n          axios.post('/api/create-group', { user_id: this.$route.params.userid, group_name: value })\n            .then((res) => {\n              // eslint-disable-next-line no-unused-vars\n              let str;\n              let messagetype;\n              if (res.data.status) {\n                this.grouplist.push({ id: res.data.group_id, group_name: value, admin: true });\n                messagetype = 'success';\n                str = `成功创建群组，名为：${value} 邀请码为 ${res.data.invite_key}`;\n                // eslint-disable-next-line no-empty\n              } else {\n                str = '创建失败';\n                messagetype = 'warning';\n              }\n              this.$message({\n                type: messagetype,\n                message: str,\n              });\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '取消输入',\n          });\n        });\n      },\n      joinGroup() {\n        this.$prompt('输入邀请码', '加入', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        }).then(({ value }) => {\n          axios.post('/api/join-group', { user_id: this.$route.params.userid, invite_key: value })\n            .then((res) => {\n              // eslint-disable-next-line no-unused-vars\n              let str;\n              let messagetype;\n              if (res.data.status) {\n                str = '成功加入';\n                messagetype = 'success';\n                this.getQuery();\n              } else {\n                str = '加入失败';\n                messagetype = 'warning';\n              }\n              this.$message({\n                type: messagetype,\n                message: str,\n              });\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '取消输入',\n          });\n        });\n      },\n    },\n  created() {\n    this.getQuery();\n  },\n};\n</script>\n<style>\n.group-list{\n  margin-top: 10px;\n}\n.el-col-3{\n  transition: all .2s ease-in-out;\n}\n.el-col-3:hover{\n  transform: scale(1.05);\n  z-index: 1;\n}\n</style>\n"],"sourceRoot":"src/components"}]}