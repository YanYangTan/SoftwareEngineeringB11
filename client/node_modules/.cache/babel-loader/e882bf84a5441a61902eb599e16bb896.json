{"remainingRequest":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ViewPhoto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\src\\components\\ViewPhoto.vue","mtime":1640169071925},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\babel.config.js","mtime":1636396230048},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640165327016},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1640165324120},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640165327016},{"path":"C:\\Users\\Laggy pc\\Documents\\GitHub\\SoftwareEngineeringB11\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1640165341316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaWV3UGhvdG8nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21tZW50OiB7fSwKICAgICAgaW1hZ2VsaXN0OiBbXSwKICAgICAgc3JjTGlzdDogW10sCiAgICAgIHBpY0RhdGE6IHt9CiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGluZm86IHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBCYWNrVG9JbWFnZVdhbGw6IGZ1bmN0aW9uIEJhY2tUb0ltYWdlV2FsbCgpIHsKICAgICAgdGhpcy4kZW1pdCgnQmFja3RvSW1hZ2VXYWxsJyk7CiAgICB9LAogICAgbGlrZTogZnVuY3Rpb24gbGlrZShwaWMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoJy9hcGkvcXVlcnktbGlrZScsIHsKICAgICAgICBwb3N0X2lkOiBwaWMucG9zdF9pZCwKICAgICAgICB1c2VyX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5saWtlZCkgewogICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2NhbmNlbC1saWtlJywgewogICAgICAgICAgICAgIHBvc3RfaWQ6IHBpYy5wb3N0X2lkLAogICAgICAgICAgICAgIHVzZXJfaWQ6IF90aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlczIpIHsKICAgICAgICAgICAgICBpZiAocmVzMi5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkvaDlt7LngrnotZ7mraTluJbvvIzlj5bmtojngrnotZ4nCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpcy5nZXRQb3N0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyMikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycjIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvbGlrZS1wb3N0JywgewogICAgICAgICAgICAgIHBvc3RfaWQ6IHBpYy5wb3N0X2lkLAogICAgICAgICAgICAgIHVzZXJfaWQ6IF90aGlzLiRyb3V0ZS5wYXJhbXMudXNlcmlkCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlczIpIHsKICAgICAgICAgICAgICBpZiAocmVzMi5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xpa2VkJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip/ngrnotZ4nCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpcy5nZXRQb3N0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyMikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycjIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQb3N0OiBmdW5jdGlvbiBnZXRQb3N0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucGljRGF0YSA9IHRoaXMuaW5mbzsKICAgICAgY29uc29sZS5sb2codGhpcy5waWNEYXRhKTsKICAgICAgYXhpb3MucG9zdCgnL2FwaS9xdWVyeS1hbGwtcG9zdCcsIHsKICAgICAgICBncm91cF9pZDogdGhpcy4kcHJvcHMuaW5mby5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgcG9zdHMgPSBbXTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cykgewogICAgICAgICAgcG9zdHMgPSByZXMuZGF0YS5wb3N0X2xpc3Q7CiAgICAgICAgICBjb25zb2xlLmxvZyhwb3N0cyk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3N0cy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgdmFyIHNyYyA9ICcvYXBpL3Nob3cvJyArIF90aGlzMi4kcHJvcHMuaW5mby5pZCArICcvJyArIHBvc3RzW2ldLm1lZGlhOwogICAgICAgICAgICB2YXIgdG1wID0ge307CiAgICAgICAgICAgIHRtcC5zcmMgPSBzcmM7CiAgICAgICAgICAgIHRtcC5wb3N0X2lkID0gcG9zdHNbaV0uaWQ7CiAgICAgICAgICAgIHRtcC5jYXB0aW9uID0gcG9zdHNbaV0uY2FwdGlvbjsKICAgICAgICAgICAgdG1wLmRhdGVfY3JlYXRlZCA9IHBvc3RzW2ldLmRhdGVfY3JlYXRlZDsKICAgICAgICAgICAgdG1wLmxpa2UgPSBwb3N0c1tpXS5saWtlOwogICAgICAgICAgICB0bXAudXNlcl9pZCA9IHBvc3RzW2ldLnVzZXJfaWQ7CiAgICAgICAgICAgIHRtcC51c2VybmFtZSA9IHBvc3RzW2ldLnVzZXJuYW1lOwoKICAgICAgICAgICAgX3RoaXMyLmltYWdlbGlzdC5wdXNoKHRtcCk7CgogICAgICAgICAgICBfdGhpczIuc3JjTGlzdC5wdXNoKHNyYyk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmltYWdlbGlzdCk7CiAgICAgICAgICBfdGhpczIuZnVsbHNjcmVlbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgICAgYXhpb3MucG9zdCgnL2FwaS9jb21tZW50JywgewogICAgICAgIHBvc3RfaWQ6IHRoaXMucGljRGF0YS5wb3N0X2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBjb21tZW50cyA9IFtdOwoKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICBjb21tZW50cyA9IHJlcy5kYXRhLmNvbW1lbnRzX2xpc3Q7CiAgICAgICAgICBjb25zb2xlLmxvZyhjb21tZW50cyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnc3VjY2VzcyEnKTsgLy8gdGhpcy5kYXRhID0gdGhpcy5pbmZvOwoKICAgIGNvbnNvbGUubG9nKHRoaXMuaW5mbyk7CiAgfQp9Ow=="},{"version":3,"sources":["ViewPhoto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAVA;AAaA,EAAA,OAAA,EACA;AACA,IAAA,eADA,6BACA;AACA,WAAA,KAAA,CAAA,iBAAA;AACA,KAHA;AAIA,IAAA,IAJA,gBAIA,GAJA,EAIA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AAAA,QAAA,OAAA,EAAA,GAAA,CAAA,OAAA;AAAA,QAAA,OAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AAAA,cAAA,OAAA,EAAA,GAAA,CAAA,OAAA;AAAA,cAAA,OAAA,EAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AAAA,aAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA;AACA,kBAAA,IAAA,EAAA,SADA;AAEA,kBAAA,OAAA,EAAA;AAFA,iBAAA;;AAIA,gBAAA,KAAA,CAAA,OAAA;AACA;AACA,aARA,EASA,KATA,CASA,UAAA,IAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,aAXA;AAYA,WAbA,MAaA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,cAAA,OAAA,EAAA,GAAA,CAAA,OAAA;AAAA,cAAA,OAAA,EAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AAAA,aAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,OAAA;;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA;AACA,kBAAA,IAAA,EAAA,SADA;AAEA,kBAAA,OAAA,EAAA;AAFA,iBAAA;;AAIA,gBAAA,KAAA,CAAA,OAAA;AACA;AACA,aATA,EASA,KATA,CASA,UAAA,IAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,aAXA;AAYA;AACA;AACA,OA9BA,EA8BA,KA9BA,CA8BA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAhCA;AAiCA,KAtCA;AAuCA,IAAA,OAvCA,qBAuCA;AAAA;;AACA,WAAA,OAAA,GAAA,KAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,qBAAA,EAAA;AAAA,QAAA,QAAA,EAAA,KAAA,MAAA,CAAA,IAAA,CAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,EAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,EAAA,CAAA,IAAA,CAAA,EAAA;AACA;AACA,gBAAA,GAAA,GAAA,eAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,GAAA,GAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,KAAA;AACA,gBAAA,GAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,GAAA,GAAA,GAAA;AACA,YAAA,GAAA,CAAA,OAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,OAAA;AACA,YAAA,GAAA,CAAA,YAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,YAAA;AACA,YAAA,GAAA,CAAA,IAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA,YAAA,GAAA,CAAA,OAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,OAAA;AACA,YAAA,GAAA,CAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,QAAA;;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,GAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,KAAA;AACA;AACA,OAtBA,EAsBA,KAtBA,CAsBA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAxBA;AAyBA,MAAA,KAAA,CAAA,IAAA,CAAA,cAAA,EAAA;AAAA,QAAA,OAAA,EAAA,KAAA,OAAA,CAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,QAAA,GAAA,EAAA;;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,aAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA;AACA,OANA;AAOA;AA1EA,GAdA;AA0FA,EAAA,OA1FA,qBA0FA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EADA,CAEA;;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA;AA9FA,CAAA","sourcesContent":["<template>\n  <el-container style=\"margin-top: -7px\">\n  <div>\n    <el-container style=\"margin-bottom: 4px\">\n    <el-button\n      style=\"width: 50px;margin-right: 30px;\"\n      icon=\"el-icon-back\"\n      @click=\"BackToImageWall\" circle\n    type=\"primary\"></el-button>\n    <h1 >{{this.$props.info.caption}}</h1>\n    </el-container>\n    <el-container>\n <el-aside width=\"900px\">\n   <el-card :body-style=\"{ padding: '10px' }\" shadow=\"hover\">\n     <el-image\n      :src=\"info.src\"\n      :preview-src-list=\"[info.src]\">\n    </el-image>\n                   <el-button type=\"success\"\n                size=\"large\"\n                icon=\"el-icon-arrow-up\"\n                style=\"padding: 1px 1px;\"\n                @click=\"like(info.like)\"\n              >{{info.like}}</el-button>\n   </el-card>\n </el-aside>\n      <el-container>\n\n      <el-main>\n        <div>\n          <el-card >\n            <el-container>\n         <el-avatar src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"\n                 style=\"\"  :size=\"50\"></el-avatar>\n        <h3 style=\"margin-top: 12px;margin-left: 5px\">\n          {{info.username}}\n        </h3>\n            </el-container>\n        <span style=\"margin-left: 5px\">{{info.date_created}}</span>\n           </el-card>\n        </div>\n      </el-main>\n\n    </el-container>\n</el-container>\n  </div>\n  </el-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ViewPhoto',\n  data() {\n    return {\n      comment: {},\n      imagelist: [],\n      srcList: [],\n      picData: {},\n    };\n  },\n  props: {\n    info: {},\n  },\n  methods:\n      {\n        BackToImageWall() {\n          this.$emit('BacktoImageWall');\n        },\n        like(pic) {\n          axios.post('/api/query-like', { post_id: pic.post_id, user_id: this.$route.params.userid }).then((res) => {\n            if (res.data.status) {\n              if (res.data.liked) {\n                axios.post('/api/cancel-like', { post_id: pic.post_id, user_id: this.$route.params.userid }).then((res2) => {\n                  if (res2.data.status) {\n                    this.$message({\n                      type: 'warning',\n                      message: '你已点赞此帖，取消点赞',\n                    });\n                    this.getPost();\n                  }\n                })\n                  .catch((err2) => {\n                    console.log(err2);\n                  });\n              } else {\n                axios.post('/api/like-post', { post_id: pic.post_id, user_id: this.$route.params.userid }).then((res2) => {\n                  if (res2.data.status) {\n                    console.log('Liked');\n                    this.$message({\n                      type: 'success',\n                      message: '成功点赞',\n                    });\n                    this.getPost();\n                  }\n                }).catch((err2) => {\n                  console.log(err2);\n                });\n              }\n            }\n          }).catch((err) => {\n            console.log(err);\n          });\n        },\n        getPost() {\n          this.picData = this.info;\n          console.log(this.picData);\n          axios.post('/api/query-all-post', { group_id: this.$props.info.id }).then((res) => {\n            let posts = [];\n            if (res.data.status) {\n              posts = res.data.post_list;\n              console.log(posts);\n              for (let i = 0; i < posts.length; i += 1) {\n                // eslint-disable-next-line\n                const src = '/api/show/' + this.$props.info.id + '/' + posts[i].media;\n                const tmp = {};\n                tmp.src = src;\n                tmp.post_id = posts[i].id;\n                tmp.caption = posts[i].caption;\n                tmp.date_created = posts[i].date_created;\n                tmp.like = posts[i].like;\n                tmp.user_id = posts[i].user_id;\n                tmp.username = posts[i].username;\n                this.imagelist.push(tmp);\n                this.srcList.push(src);\n              }\n              console.log(this.imagelist);\n              this.fullscreenLoading = false;\n            }\n          }).catch((err) => {\n            console.log(err);\n          });\n          axios.post('/api/comment', { post_id: this.picData.post_id }).then((res) => {\n            let comments = [];\n            if (res.data.status) {\n              comments = res.data.comments_list;\n              console.log(comments);\n            }\n          });\n        },\n      },\n  created() {\n    console.log('success!');\n    // this.data = this.info;\n    console.log(this.info);\n  },\n};\n</script>\n\n<style scoped>\n  .el-image {\n    width: 100%;\n    object-fit: scale-down;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}